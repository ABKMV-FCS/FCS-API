(function(e){function t(t){for(var r,o,c=t[0],l=t[1],i=t[2],u=0,p=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},n={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"1049f331","chunk-2d216257":"1eff1fbf","chunk-831a509a":"aabff502"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var i=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}n[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"049a":function(e,t,a){"use strict";a("d309")},2966:function(e,t,a){e.exports=a.p+"img/gicon.11f086e8.png"},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("53ca"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("2b0e")),s=a("bc3a"),o=a.n(s),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("navbar"),a("v-main",[a("router-view")],1),a("v-bottom-sheet",{attrs:{inset:"",persistent:""},model:{value:e.NotifierView,callback:function(t){e.NotifierView=t},expression:"NotifierView"}},[a("v-sheet",{staticClass:"text-center",attrs:{height:"200"}},[a("div",{staticClass:"py-3"},[a("b",[e._v(e._s(e.NotificationMessage))])]),a("v-btn",{staticClass:"mt-6",attrs:{color:"error"},on:{click:function(t){return e.$store.dispatch("CloseNotification")}}},[e._v("close")])],1)],1)],1)},l=[],i=a("1da1"),u=a("5530"),d=(a("96cf"),a("caad"),a("2532"),a("0d03"),a("4795"),a("b0c0"),a("2591")),p={apiKey:"AIzaSyAflGcALBv3ctCbD_sm8IBlBo8pjsi8s7c",authDomain:"facultycalendarscheduler.firebaseapp.com",projectId:"facultycalendarscheduler",storageBucket:"facultycalendarscheduler.appspot.com",messagingSenderId:"659362701908",appId:"1:659362701908:web:96866edb3662cccd1e83c1",measurementId:"G-LR7XQ5XFNN"};d["a"].initializeApp(p);var m=d["a"],f=a("2f62"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.Token?a("v-navigation-drawer",{attrs:{app:""},model:{value:e.sidebarToggler,callback:function(t){e.sidebarToggler=t},expression:"sidebarToggler"}},[a("v-list-group",{attrs:{"prepend-icon":"mdi-account-circle",value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v(e._s(e.Name))])]},proxy:!0}],null,!1,3984860109)},[a("v-list",{attrs:{dense:"",shaped:"",nav:""}},e._l(e.sidebarURLS,(function(t,r){return a("div",{key:r},[t.role.includes(e.Role)?a("v-list-item",{attrs:{to:t.url}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))])],1)],1):e._e()],1)})),0)],1)],1):e._e(),a("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[e.Token?a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.sidebarToggler=!e.sidebarToggler}}}):e._e(),a("v-toolbar-title",[e._v("Faculty Calendar Scheduler")]),a("v-spacer"),null!==e.Token?a("v-btn",{attrs:{rounded:"",to:"Dashboard",text:"",color:"white"}},[e._v("Dashboard")]):e._e(),null===e.Token?a("v-btn",{attrs:{rounded:"",to:"Login",text:""}},[e._v("Login")]):e._e(),null===e.Token?a("v-btn",{attrs:{rounded:"",to:"StudentSubscribe",text:""}},[e._v("Subscribe")]):e._e(),a("v-btn",{attrs:{rounded:"",to:"TimeTable",text:""}},[e._v("TimeTable")]),a("v-btn",{attrs:{rounded:"",to:"Contact",text:""}},[e._v("Contact")]),null!==e.Token?a("v-btn",{attrs:{rounded:"",text:""},on:{click:e.logout}},[e._v("Logout")]):e._e()],1)],1)},b=[],h={data:function(){return{nameofuser:"~",userimg:null,sidebarToggler:null,sidebarURLS:[{name:"Dashboard",url:"Dashboard",icon:"mdi-home",role:["admin","faculty"]},{name:"Manage Users",url:"ManageUsers",icon:"mdi-account-cog",role:["admin"]},{name:"Manage Time-Table",url:"ManageTimeTable",icon:"mdi-calendar-blank-multiple",role:["admin"]},{name:"Manage Exam-Schedule",url:"ManageExamSchedule",icon:"mdi-book-open-page-variant",role:["admin"]},{name:"Manage Faculty Courses",url:"ManageFacultyCourses",icon:"mdi-book-account",role:["admin"]},{name:"Emergency Holiday",url:"emergencyholiday",icon:"mdi-exit-run",role:["admin"]},{name:"Request OD",url:"requestod",icon:"mdi-account-hard-hat",role:["faculty"]},{name:"Manage OD",url:"manageod",icon:"mdi-file-table-box-multiple",role:["admin"]},{name:"Request Leave",url:"requestleave",icon:"mdi-briefcase-account",role:["faculty"]},{name:"Manage Leave",url:"manageleave",icon:"mdi-email-open-multiple-outline",role:["admin"]},{name:"Request Profile Change",url:"requestprofilechange",icon:"mdi-account-edit-outline",role:["admin","faculty"]},{name:"Manage Profile Change Request",url:"profileupdaterequest",icon:"mdi-account-reactivate-outline",role:["admin"]},{name:"Reset Password",url:"resetpassword",icon:"mdi-account-lock-outline",role:["admin","faculty"]},{name:"Analytics",url:"Analytics",icon:"mdi-google-analytics",role:["admin","faculty"]},{name:"Contact",url:"Contact",icon:"mdi-phone",role:["admin","faculty"]}]}},methods:{logout:function(){this.$store.dispatch("Logout"),m.auth().signOut()}},computed:Object(f["b"])(["Token","Name","Username","Role"])},g=h,x=(a("b0c2"),a("2877")),y=a("6544"),k=a.n(y),D=a("40dc"),C=a("5bc1"),S=a("8336"),w=a("132d"),_=a("8860"),j=a("56b0"),R=a("da13"),V=a("1800"),T=a("5d23"),$=a("f774"),O=a("2fa4"),q=a("2a7f"),P=Object(x["a"])(g,v,b,!1,null,"5e8ab10c",null),F=P.exports;k()(P,{VAppBar:D["a"],VAppBarNavIcon:C["a"],VBtn:S["a"],VIcon:w["a"],VList:_["a"],VListGroup:j["a"],VListItem:R["a"],VListItemAction:V["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VNavigationDrawer:$["a"],VSpacer:O["a"],VToolbarTitle:q["a"]});var E={name:"App",created:function(){var e=this;if(document.title="Faculty Calendar Scheduler",this.$route.path.toLowerCase().includes("/resetpassword"))this.resetPasswordCheck();else{if(this.Token){var t,a=new Date;"-1"!==this.Expiration&&((t=new Date(this.Expiration))>a?setTimeout((function(){e.$store.dispatch("Logout")}),t-a):this.$store.dispatch("Logout"))}else this.$store.dispatch("Logout");m.analytics();var r=m.messaging();r.requestPermission().then((function(){return console.log("granted"),r.getToken({vapidKey:"BD1WBlV_Ho0GYo7sbIrHAlRrhyNnVUjbgW0Z4H7FSRazeCGHev0H4ikRLhj_xtG-xy4uDzVZBdiBmr5yyLk-aN0"})})).then((function(t){console.log(t),e.$store.commit("setFcmToken",t)}))["catch"]((function(e){console.log("denied ",e)}));var n=this;r.onMessage((function(e){console.log("payload",e),n.$store.dispatch("Notify",e.notification.body)}))}},computed:Object(u["a"])({},Object(f["b"])(["Token","Expiration","NotifierView","NotificationMessage"])),watch:{Token:function(){this.$router.push(this.Token?"Dashboard":"Login")}},components:{navbar:F},data:function(){return{}},methods:{resetPasswordCheck:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$route.query.token,null!=a&&void 0!=a){t.next=7;break}if(null!=e.Token){t.next=5;break}return e.$router.push("/"),t.abrupt("return");case 5:t.next=21;break;case 7:return e.$store.dispatch("Logout"),t.prev=8,t.next=11,e.$http.post("/api/auth/check-jwt",{token:a});case 11:r=t.sent,e.$store.dispatch("Login",{token:a,username:r.data.username,name:r.data.name[0].toUpperCase()+r.data.name.substring(1),expiration:r.data.expiration,role:r.data.role}),setTimeout((function(){e.$store.dispatch("Logout")}),60*r.data.expiration*1e3),e.$nextTick((function(){e.$router.push("/ResetPassword")})),t.next=21;break;case 17:return t.prev=17,t.t0=t["catch"](8),e.$router.push("/"),t.abrupt("return");case 21:case"end":return t.stop()}}),t,null,[[8,17]])})))()}}},N=E,L=(a("034f"),a("7496")),A=a("288c"),U=a("f6c4"),M=a("8dd9"),I=Object(x["a"])(N,c,l,!1,null,null,null),B=I.exports;k()(I,{VApp:L["a"],VBottomSheet:A["a"],VBtn:S["a"],VMain:U["a"],VSheet:M["a"]});var Y=a("9483");Object(Y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var z=a("8c4f"),W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[e._v("Faculty Calendar Scheduler")])],1),r("v-form",{ref:"form",on:{submit:e.login}},[r("v-card-text",{staticClass:"pb-0"},[r("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account",type:"text",rules:e.requiredRule},model:{value:e.postData.username,callback:function(t){e.$set(e.postData,"username",t)},expression:"postData.username"}}),r("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password",rules:e.requiredRule},model:{value:e.postData.password,callback:function(t){e.$set(e.postData,"password",t)},expression:"postData.password"}}),r("v-checkbox",{staticClass:"ma-0",attrs:{label:"Keep me signed in"},model:{value:e.postData.staysignedin,callback:function(t){e.$set(e.postData,"staysignedin",t)},expression:"postData.staysignedin"}})],1),r("v-card-actions",{staticClass:"flex-column"},[r("v-btn",{attrs:{id:"LoginButton",color:"primary",type:"submit",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("Login")]),r("v-btn",{staticClass:"mt-3 mb-3 ml-0",attrs:{id:"LoginButtonGoogle",color:"white",type:"submit",disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.googleLogin(t)}}},[e._v("Login with "),r("img",{staticStyle:{"margin-left":"7px",height:"20px",width:"20px"},attrs:{src:a("2966"),alt:""}})]),r("v-btn",{staticClass:"ma-1",attrs:{disabled:e.loading,color:"primary",plain:"",to:"/forgotpassword"}},[e._v(" Forgot Password? ")])],1)],1)],1)],1)],1)],1)},H=[],K={data:function(){return{postData:{username:null,password:null,staysignedin:!1},loading:!1,forgotpassword:null,requiredRule:[function(e){return!!e||"Required!"}]}},methods:{googleLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,a=new m.auth.GoogleAuthProvider,t.next=5,m.auth().signInWithPopup(a);case 5:return r=m.auth().currentUser.getIdToken(),n={fcmToken:e.$store.getters.fcmToken,idToken:r,staysignedin:e.postData.staysignedin},t.next=9,e.$http.post("/api/auth/googlelogin",n);case 9:s=t.sent,e.$store.dispatch("Login",{token:s.data.token,username:e.postData.username,name:s.data.name[0].toUpperCase()+s.data.name.substring(1),expiration:s.data.expiration,role:s.data.role}),-1!==s.data.expiration&&setTimeout((function(){e.$store.dispatch("Logout")}),60*s.data.expiration*1e3),t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](1),e.$store.dispatch("Notify","Error logging in with google");try{m.auth().signOut()}catch(o){}console.log(t.t0);case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,14]])})))()},login:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,this.postData.fcmToken=this.$store.getters.fcmToken,this.$http.post("/api/auth/login",Object(u["a"])(Object(u["a"])({},this.postData),{},{fcmToken:this.$store.getters.fcmToken})).then((function(t){e.$store.dispatch("Login",{token:t.data.token,username:e.postData.username,name:t.data.name[0].toUpperCase()+t.data.name.substring(1),expiration:t.data.expiration,role:t.data.role}),-1!==t.data.expiration&&setTimeout((function(){e.$store.dispatch("Logout")}),60*t.data.expiration*1e3)}))["catch"]((function(e){}))["finally"]((function(){return e.loading=!1})))}}},G=K,Q=a("b0af"),J=a("99d9"),X=a("ac7c"),Z=a("a523"),ee=a("0e8f"),te=a("4bd4"),ae=a("a722"),re=a("8654"),ne=a("71d9"),se=Object(x["a"])(G,W,H,!1,null,"4d6d799c",null),oe=se.exports;k()(se,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCheckbox:X["a"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Forgot Password")])],1),a("v-form",{ref:"form",on:{submit:e.submit}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account",type:"text",rules:e.requiredRule},model:{value:e.postData.username,callback:function(t){e.$set(e.postData,"username",t)},expression:"postData.username"}})],1),a("v-card-actions",{staticClass:"flex-column"},[a("v-btn",{attrs:{color:"primary",type:"submit",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")]),a("v-btn",{staticClass:"ma-1",attrs:{loading:e.loading,color:"primary",plain:"",to:"/login"}},[e._v(" Back to Login ")])],1)],1)],1)],1)],1)],1)},le=[],ie={data:function(){return{postData:{username:null},loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/auth/forgotpassword",e.postData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},ue=ie,de=Object(x["a"])(ue,ce,le,!1,null,"860f60c2",null),pe=de.exports;k()(de,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",["faculty"===e.Role?a("v-sheet",{staticClass:"d-flex",attrs:{tile:"",height:"54"}},[a("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-spacer"),a("span",{staticStyle:{color:"#1e1e1e"}},[e._v(e._s(e._f("calendarDateString")(e.calendarDate))+" ")]),a("v-spacer"),e.calendarError?a("span",{staticStyle:{color:"red"}},[e._v("Calendar fetch failed")]):e._e(),a("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1):e._e(),"faculty"===e.Role?a("v-sheet",{staticStyle:{"margin-bottom":"15px"},attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{type:"week",events:e.events,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{change:e.getEvents,"click:event":e.showEvent},scopedSlots:e._u([{key:"day-body",fn:function(t){var r=t.date,n=t.week;return[a("div",{staticClass:"v-current-time",class:{first:r===n[0].date},style:{top:e.nowY}})]}}],null,!1,2187434639),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e(),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}})],1),a("v-card-text",{staticStyle:{"white-space":"break-spaces"}},[a("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-row",["admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageUsers",hover:""}},[a("v-card-title",[e._v("Manage Users")]),a("v-card-text",[e._v("Manage All Users in the System")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageTimeTable",hover:""}},[a("v-card-title",[e._v("Manage Time-Table")]),a("v-card-text",[e._v("Manage Departments, Semesters, Courses, Classes and Allocate Faculties and Time-Slots")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageExamSchedule",hover:""}},[a("v-card-title",[e._v("Manage Exam Schedule")]),a("v-card-text",[e._v("Schedule Exam for Different Departments")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageFacultyCourses",hover:""}},[a("v-card-title",[e._v("Manage Faculty Courses")]),a("v-card-text",[e._v("Attach Courses to Faculty")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"EmergencyHoliday",hover:""}},[a("v-card-title",[e._v("Declare Emergency Holiday")]),a("v-card-text",[e._v("Declare an Emergency HOliday for a particular date")])],1)],1):e._e(),"faculty"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"RequestOD",hover:""}},[a("v-card-title",[e._v("Request OD")]),a("v-card-text",[e._v("Request for a OD for a Range of Slots")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageOD",hover:""}},[a("v-card-title",[e._v("Manage OD")]),a("v-card-text",[e._v("Manage OD Requests made by Faculties")])],1)],1):e._e(),"faculty"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"RequestLeave",hover:""}},[a("v-card-title",[e._v("Request Leave")]),a("v-card-text",[e._v("Request for a Leave for a Range of Days")])],1)],1):e._e(),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageLeave",hover:""}},[a("v-card-title",[e._v("Manage Leave")]),a("v-card-text",[e._v("Manage Leave Requests made by Faculties")])],1)],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"RequestProfileChange",hover:""}},[a("v-card-title",[e._v("Request Profile Change")]),a("v-card-text",[e._v("Request for a Change in Profile Information")])],1)],1),"admin"===e.Role?a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ManageProfileChangeRequest",hover:""}},[a("v-card-title",[e._v("Manage Profile Change Request")]),a("v-card-text",[e._v("Approve/Reject Profile Change Requests")])],1)],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"ResetPassword",hover:""}},[a("v-card-title",[e._v("Reset Password Details")]),a("v-card-text",[e._v("Reset Password of your Profile")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{to:"Analytics",hover:""}},[a("v-card-title",[e._v("Analytics")]),a("v-card-text",[e._v("View Analytics of the Application")])],1)],1)],1)],1)],1)},fe=[],ve=(a("1276"),a("ac1f"),{data:function(){return{ready:!1,value:"",calendarDate:null,calendarError:!1,events:[],selectedEvent:{},selectedElement:null,selectedOpen:!1}},mounted:function(){"faculty"===this.Role&&(this.ready=!0,this.scrollToTime())},computed:Object(u["a"])(Object(u["a"])({},Object(f["b"])(["Role"])),{},{cal:function(){return this.ready?this.$refs.calendar:null},nowY:function(){return this.cal?this.cal.timeToY(this.cal.times.now)+"px":"-10px"}}),methods:{getEventColor:function(e){return e.color},getCurrentTime:function(){return this.cal?60*this.cal.times.now.hour+this.cal.times.now.minute:0},scrollToTime:function(){var e=this.getCurrentTime(),t=Math.max(0,e-e%30-30);this.cal.scrollToTime(t)},showEvent:function(e){var t=this,a=e.nativeEvent,r=e.event,n=function(){t.selectedEvent=r,t.selectedElement=a.target,requestAnimationFrame((function(){return requestAnimationFrame((function(){return t.selectedOpen=!0}))}))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return n()}))}))):n(),a.stopPropagation()},getEvents:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.start,n=e.end,console.log(r,n),t.calendarDate=r.date,a.prev=3,a.next=6,t.$http.post("/api/calendar/getcalendarevents",{forDate:r.date});case 6:s=a.sent,o=s.data.data,t.calendarError=!1,t.events=o,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](3),t.calendarError=!0,t.events=[];case 16:case"end":return a.stop()}}),a,null,[[3,12]])})))()}},filters:{calendarDateString:function(e){if(!e)return"";var t=e,a=new Date(e).toLocaleString("default",{month:"long"});return t.split("-")[0]+" "+a}}}),be=ve,he=(a("049a"),a("a4f6")),ge=a("62ad"),xe=a("e449"),ye=a("0fd9"),ke=Object(x["a"])(be,me,fe,!1,null,"ace8133c",null),De=ke.exports;k()(ke,{VBtn:S["a"],VCalendar:he["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:ge["a"],VContainer:Z["a"],VIcon:w["a"],VMenu:xe["a"],VRow:ye["a"],VSheet:M["a"],VSpacer:O["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[e._v("Sai Kiran S")]),a("v-card-subtitle",[e._v("Scrum Master")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-col",[e._v("CB.EN.U4CSE18248 - saikiran9620@gmail.com")])],1)],1),a("v-divider",{staticClass:"mx-4"})],1)],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[e._v("Monish Raaj L")]),a("v-card-subtitle",[e._v("Developer")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-col",[e._v("CB.EN.U4CSE18239 - monishraaj05@gmail.com")])],1)],1),a("v-divider",{staticClass:"mx-4"})],1)],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[e._v("V Ashwin ")]),a("v-card-subtitle",[e._v("Developer")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-col",[e._v("CB.EN.U4CSE18212 - ashwin.venkat2000@gmail.com")])],1)],1),a("v-divider",{staticClass:"mx-4"})],1)],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[e._v("Venkatasubramanian N")]),a("v-card-subtitle",[e._v("Developer")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-col",[e._v("CB.EN.U4CSE18266 - venkatasubramanian2001@gmail.com")])],1)],1),a("v-divider",{staticClass:"mx-4"})],1)],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[e._v("Tadimarri Bhavana Reddy")]),a("v-card-subtitle",[e._v("Testing Engineer")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-col",[e._v("CB.EN.U4CSE18270 - bhavana@gmail.com")])],1)],1),a("v-divider",{staticClass:"mx-4"})],1)],1)],1)],1)],1)},Se=[],we={},_e=we,je=a("ce7e"),Re=Object(x["a"])(_e,Ce,Se,!1,null,null,null),Ve=Re.exports;k()(Re,{VCard:Q["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:ge["a"],VContainer:Z["a"],VDivider:je["a"],VLayout:ae["a"],VRow:ye["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[e.option?e._e():a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{hover:""},on:{click:function(t){t.preventDefault(),e.option="student",e.getDepartments()}}},[a("v-card-title",[e._v("Class TimeTable")]),a("v-card-subtitle",[e._v("Download TimeTable of One Section")]),a("v-card-text")],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{hover:""},on:{click:function(t){t.preventDefault(),e.option="faculty",e.getFaculty()}}},[a("v-card-title",[e._v("Faculty TimeTable")]),a("v-card-subtitle",[e._v("Download TimeTable of a Faculty")]),a("v-card-text")],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{hover:""},on:{click:function(t){t.preventDefault(),e.option="exam",e.getExam()}}},[a("v-card-title",[e._v("Exam TimeTable")]),a("v-card-subtitle",[e._v("Download TimeTable of Exams")]),a("v-card-text")],1)],1)],1),"student"==e.option?a("v-flex",{attrs:{xs12:"",sm8:"",md7:"",lg8:"",xl5:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"secondary"}},[a("v-icon",{attrs:{dark:"",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.postSubmit(1)}}},[e._v("mdi-arrow-left")])],1),a("v-spacer"),a("v-toolbar-title",[e._v("Class Time Table Download")]),a("v-spacer"),a("v-spacer")],1),a("v-card-text",[a("v-form",{ref:"form"},[a("v-select",{attrs:{"item-text":"dept","item-value":function(e){return e},items:e.departments,label:"Department",rules:e.requiredRule},on:{change:function(t){return e.getSemesters(0)}},model:{value:e.postData.dept,callback:function(t){e.$set(e.postData,"dept",t)},expression:"postData.dept"}}),a("v-select",{attrs:{disabled:!e.postData.dept,items:e.semesters,label:"Semester",rules:e.requiredRule},on:{change:e.getSections},model:{value:e.postData.sem,callback:function(t){e.$set(e.postData,"sem",t)},expression:"postData.sem"}}),a("v-select",{attrs:{disabled:!e.postData.sem,"item-text":"section","item-value":"section",items:e.sections,label:"Section",rules:e.requiredRule},model:{value:e.postData.sec,callback:function(t){e.$set(e.postData,"sec",t)},expression:"postData.sec"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading,depressed:"",large:"",block:""},on:{click:function(t){return t.preventDefault(),e.studentSubmit(t)}}},[e._v("submit")]),a("v-spacer")],1)],1)],1):e._e(),"faculty"==e.option?a("v-flex",{attrs:{xs12:"",sm8:"",md7:"",lg8:"",xl5:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"secondary"}},[a("v-icon",{attrs:{dark:"",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.postSubmit(0)}}},[e._v("mdi-arrow-left")])],1),a("v-spacer"),a("v-toolbar-title",[e._v("Faculty Time Table Download")]),a("v-spacer"),a("v-spacer")],1),a("v-card-text",[a("v-form",{ref:"form1"},[a("v-select",{attrs:{"item-text":"name","item-value":"faculty",items:e.faculties,label:"Faculty",rules:e.requiredRule},model:{value:e.faculty,callback:function(t){e.faculty=t},expression:"faculty"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading,depressed:"",large:"",block:""},on:{click:function(t){return t.preventDefault(),e.facultySubmit(t)}}},[e._v("submit")]),a("v-spacer")],1)],1)],1):e._e(),"exam"==e.option?a("v-flex",{attrs:{xs12:"",sm8:"",md7:"",lg8:"",xl5:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"secondary"}},[a("v-icon",{attrs:{dark:"",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.postSubmit(2)}}},[e._v("mdi-arrow-left")])],1),a("v-spacer"),a("v-toolbar-title",[e._v("Exam Time Table Download")]),a("v-spacer"),a("v-spacer")],1),a("v-card-text",[a("v-form",{ref:"form2"},[a("v-select",{attrs:{items:["p1","p2","p3","endsem"],label:"Type",rules:e.requiredRule},model:{value:e.examPostData.type,callback:function(t){e.$set(e.examPostData,"type",t)},expression:"examPostData.type"}}),a("v-select",{attrs:{items:e.semesters,label:"Semester",rules:e.requiredRule},model:{value:e.examPostData.sem,callback:function(t){e.$set(e.examPostData,"sem",t)},expression:"examPostData.sem"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading,depressed:"",large:"",block:""},on:{click:function(t){return t.preventDefault(),e.examSubmit(t)}}},[e._v("submit")]),a("v-spacer")],1)],1)],1):e._e()],1)],1)},$e=[],Oe=a("ade3"),qe=a("b85c"),Pe=(a("99af"),a("d81d"),a("4de4"),a("c975"),a("4e82"),a("2b3d"),a("3ca3"),a("ddb0"),a("8baf")),Fe=(a("0da4"),{data:function(){return{postData:{dept:null,sem:null,sec:null},examPostData:{sem:null,type:null},examtypes:[],noofsems:null,faculty:null,faculties:[],departments:[],semesters:[],sections:[],option:null,loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){},methods:{downloadExamTT:function(e,t){var a=new Pe["default"]("l","mm",[297,210]),r="Sem-".concat(this.examPostData.sem,"-").concat(this.examPostData.type,"-timetable"),n=[{header:"Date",dataKey:"date"}],s=e.map((function(e){return e.dept}));s=s.filter((function(e,t,a){return a.indexOf(e)===t}));var o,c=Object(qe["a"])(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;n.push({header:l,dataKey:l})}}catch(h){c.e(h)}finally{c.f()}var i=[];e.sort((function(e,t){return e.date<t.date?-1:e.date>t.date?1:e.exam_slot<t.exam_slot?-1:e.exam_slot>t.exam_slot?1:0}));var u,d=null,p=null,m=Object(qe["a"])(e);try{for(m.s();!(u=m.n()).done;){var f=u.value;if(f.date==d&&f.exam_slot==p){var v=i.length-1;i[v][f.dept]="".concat(f.coursecode,"\nSec: ").concat(f.section,"\n").concat(f.faculty)}else i.push(Object(Oe["a"])({date:"".concat(f.date,"\nSlot ").concat(f.exam_slot[2],": ").concat(t[f.exam_slot])},f.dept,"".concat(f.coursecode,"\nSec: ").concat(f.section,"\n").concat(f.faculty))),d=f.date,p=f.exam_slot}}catch(h){m.e(h)}finally{m.f()}a.autoTable({body:i,columns:n,theme:"grid",styles:{halign:"center",minCellWidth:25,minCellHeight:20,cellPadding:5},headStyles:{fillColor:40,lineColor:255,lineWidth:1},startY:42,didDrawPage:function(t){t.doc.setFontSize(18),t.doc.setTextColor(40),t.doc.text("Exam Time Table",125,20),t.doc.setFontSize(12),t.doc.text("Sem: ".concat(e[0].sem,"  Exam: ").concat(e[0].type," "),225,30)}});var b=window.open(URL.createObjectURL(a.output("blob")));setTimeout((function(){b.document.title="".concat(r,".pdf")}),1e3)},downloadFacultyTT:function(e){var t=new Pe["default"]("l","mm",[297,210]),a="".concat(this.faculty,"-timetable"),r=[{header:"",dataKey:"day"},{header:"Slot 1",dataKey:"slot1"},{header:"Slot 2",dataKey:"slot2"},{header:"Slot 3",dataKey:"slot3"},{header:"Slot 4",dataKey:"slot4"},{header:"Slot 5",dataKey:"slot5"},{header:"Slot 6",dataKey:"slot6"}],n=[{day:"Monday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Tuesday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Wednesday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Thursday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Friday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""}],s={MON:0,TUE:1,WED:2,THU:3,FRI:4};console.log(e);var o,c=Object(qe["a"])(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;n[s[l.day]]["slot".concat(l.slot)]="".concat(l.coursename,"\n").concat(l.coursecode)}}catch(u){c.e(u)}finally{c.f()}console.log(n,r),t.autoTable({body:n,columns:r,theme:"grid",styles:{halign:"center",minCellWidth:25,minCellHeight:20,cellPadding:5},headStyles:{fillColor:40,lineColor:255,lineWidth:1},startY:42,didDrawPage:function(t){console.log(t),t.doc.setFontSize(18),t.doc.setTextColor(40),t.doc.text("Faculty Time Table",125,20),t.doc.setFontSize(12),t.doc.text("Dept: ".concat(e[0].dept,"   Sem: ").concat(e[0].sem,"  Sec: ").concat(e[0].section," "),225,30),t.doc.text("Faculty: ".concat(a.split("-")[0]),225,35)}});var i=window.open(URL.createObjectURL(t.output("blob")));setTimeout((function(){i.document.title="".concat(a,".pdf")}),1e3)},downloadStudentTT:function(e){var t=this,a=new Pe["default"]("l","mm",[297,210]),r="".concat(this.postData.dept.dept,"-").concat(this.postData.sec,"-Sem-").concat(this.postData.sem,"-timetable"),n=[{header:"",dataKey:"day"},{header:"Slot 1",dataKey:"slot1"},{header:"Slot 2",dataKey:"slot2"},{header:"Slot 3",dataKey:"slot3"},{header:"Slot 4",dataKey:"slot4"},{header:"Slot 5",dataKey:"slot5"},{header:"Slot 6",dataKey:"slot6"}],s=[{day:"Monday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Tuesday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Wednesday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Thursday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""},{day:"Friday",slot1:"",slot2:"",slot3:"",slot4:"",slot5:"",slot6:""}],o={MON:0,TUE:1,WED:2,THU:3,FRI:4};console.log(e);var c,l=Object(qe["a"])(e);try{for(l.s();!(c=l.n()).done;){var i=c.value;s[o[i.day]]["slot".concat(i.slot)]="".concat(i.coursename,"\n").concat(i.coursecode)}}catch(d){l.e(d)}finally{l.f()}console.log(s,n),a.autoTable({body:s,columns:n,theme:"grid",styles:{halign:"center",minCellWidth:25,minCellHeight:20,cellPadding:5},headStyles:{fillColor:40,lineColor:255,lineWidth:1},startY:40,didDrawPage:function(e){console.log(e),e.doc.setFontSize(18),e.doc.setTextColor(40),e.doc.text("Class Time Table",125,20),e.doc.setFontSize(12),e.doc.text("Dept: ".concat(t.postData.dept.dept,"   Sem: ").concat(t.postData.sem,"  Sec: ").concat(t.postData.sec," "),225,30)}});var u=window.open(URL.createObjectURL(a.output("blob")));setTimeout((function(){u.document.title="".concat(r,".pdf")}),1e3)},getDepartments:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/timetable/readdept");case 4:e.departments=t.sent.data.departments,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},getSemesters:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,t.noofsems=e?t.examPostData.dept.sems:t.postData.dept.sems,a.prev=2,a.next=5,t.$http.get("/api/timetable/getactivesem");case 5:if(r=a.sent.data.odd,t.semesters=[],r)for(n=1;n<=t.noofsems;n+=2)t.semesters.push({text:n,value:n});else for(s=2;s<=t.noofsems;s+=2)t.semesters.push({text:s,value:s});a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](2);case 12:t.loading=!1;case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},getSections:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/timetable/readclassesunderdept/".concat(e.postData.dept.dept));case 4:e.sections=t.sent.data.sections,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},getFaculty:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/timetable/readfaculty");case 4:e.faculties=t.sent.data.faculties,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},getExam:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/timetable/getactivesem");case 4:if(a=t.sent.data.odd,e.semesters=[],a)for(r=1;r<=8;r+=2)e.semesters.push({text:r,value:r});else for(n=2;n<=8;n+=2)e.semesters.push({text:n,value:n});t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},studentSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/timetable/studenttimetabledownload",Object(u["a"])(Object(u["a"])({},e.postData),{},{dept:e.postData.dept.dept}));case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),"no data available"!==a.data.message&&e.downloadStudentTT(a.data.timetable),e.postSubmit(1),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},facultySubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/timetable/facultytimetabledownload",{faculty:e.faculty});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),"faculties not found"!==a.data.message&&e.downloadFacultyTT(a.data.timetable),e.postSubmit(0),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},examSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/examschedule/downloadexamschedule",e.examPostData);case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),"no data available"!==a.data.message&&e.downloadExamTT(a.data.timetable,a.data.examtypes),e.postSubmit(2),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},postSubmit:function(e){this.loading=!1,1==e?this.$refs.form.reset():2==e?this.$refs.form2.reset():this.$refs.form1.reset(),this.option=null}}}),Ee=Fe,Ne=a("b974"),Le=Object(x["a"])(Ee,Te,$e,!1,null,null,null),Ae=Le.exports;k()(Le,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:ge["a"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSelect:Ne["a"],VSpacer:O["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage Users")])],1),a("v-divider"),a("v-row",{staticClass:"ma-2",attrs:{justify:"center"}}),a("v-card",[a("v-card-title",[e._v(" Users "),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"success",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Create Users ")],1)]}}]),model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Create Users")])]),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.createSubmit(t)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Name",type:"text",rules:e.requiredRule},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name",t)},expression:"postData.name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",rules:e.emailRule},model:{value:e.postData.email,callback:function(t){e.$set(e.postData,"email",t)},expression:"postData.email"}}),a("v-text-field",{attrs:{label:"Phone Number",type:"number",rules:e.phoneRule},model:{value:e.postData.phone,callback:function(t){e.$set(e.postData,"phone",t)},expression:"postData.phone"}}),a("v-select",{attrs:{items:["faculty","admin"],filled:"",label:"Role",rules:e.requiredRule},model:{value:e.postData.role,callback:function(t){e.$set(e.postData,"role",t)},expression:"postData.role"}}),a("v-text-field",{attrs:{label:"Qualifications",type:"text"},model:{value:e.postData.qualifications,callback:function(t){e.$set(e.postData,"qualifications",t)},expression:"postData.qualifications"}}),a("v-text-field",{attrs:{label:"Username",type:"text",rules:e.requiredRule},model:{value:e.postData.username,callback:function(t){e.$set(e.postData,"username",t)},expression:"postData.username"}}),a("v-text-field",{attrs:{label:"Password",type:"password",rules:e.requiredRule},model:{value:e.postData.password,callback:function(t){e.$set(e.postData,"password",t)},expression:"postData.password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.createClose}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.createSubmit(t)}}},[e._v("Submit")])],1)],1)],1)],1),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{key:e.dtableKey,staticClass:"elevation-1",attrs:{id:"main-table",headers:e.headers,"item-key":"_id",loading:e.tableLoading,"loading-text":"Loading Users...Please Wait!",items:e.users,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"black"},on:{click:function(t){t.preventDefault(),e.postData=Object.assign({},r),e.updateSelect=e.postData.username}}},"v-icon",s,!1),n),[e._v("mdi-pencil-box")])]}}],null,!0),model:{value:e.updateConfirmation,callback:function(t){e.updateConfirmation=t},expression:"updateConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Update Users")])]),a("v-form",{ref:"form3",on:{submit:function(t){return t.preventDefault(),e.updateSubmit()}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username",type:"text",rules:e.requiredRule},model:{value:e.postData.username,callback:function(t){e.$set(e.postData,"username",t)},expression:"postData.username"}}),a("v-text-field",{attrs:{label:"Name",type:"text",rules:e.requiredRule},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name",t)},expression:"postData.name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",rules:e.emailRule},model:{value:e.postData.email,callback:function(t){e.$set(e.postData,"email",t)},expression:"postData.email"}}),a("v-text-field",{attrs:{label:"Phone Number",type:"number",rules:e.phoneRule},model:{value:e.postData.phone,callback:function(t){e.$set(e.postData,"phone",t)},expression:"postData.phone"}}),a("v-text-field",{attrs:{label:"Qualifications",type:"text"},model:{value:e.postData.qualifications,callback:function(t){e.$set(e.postData,"qualifications",t)},expression:"postData.qualifications"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.updateClose}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.updateSubmit()}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){t.preventDefault(),e.deleteSelect=Object.assign({},r)}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteConfirmation,callback:function(t){e.deleteConfirmation=t},expression:"deleteConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Delete Users")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.deleteSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Delete the User: "+e._s(e.deleteSelect.name)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteConfirmation=!1,e.deleteSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.deleteSubmit()}}},[e._v("YES")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1)},Me=[],Ie=(a("acd8"),{data:function(){return{deleteConfirmation:!1,deleteSelect:{},updateSelect:{},updateConfirmation:!1,create:!1,loading:!1,search:"",tableLoading:!0,users:[],dtableKey:0,headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"Role",value:"role"},{text:"Qualifications",value:"qualifications"},{text:"Username",value:"username"},{text:"Actions",value:"actions",align:"end",sortable:!1}],postData:{name:null,email:null,phone:null,role:null,qualifications:null,username:null,password:null,profilephoto:null},requiredRule:[function(e){return!!e||"Required!"}],emailRule:[function(e){return!!e&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],phoneRule:[function(e){return!!e&&!isNaN(parseFloat(e))&&e>=1e9&&e<=9999999999||"Phone Number must be valid"}]}},created:function(){this.getUsers(),this.tableLoading=!1},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/profile/getallusers");case 3:e.users=t.sent.data.users,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},createSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/auth/register",e.postData);case 6:a=t.sent,e.create=!1,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.$refs.form.reset(),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](3);case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[3,13]])})))()},updateSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form3.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,a=Object(u["a"])({},e.postData),a.oldusername=e.updateSelect,console.log(a),t.next=9,e.$http.post("/api/profile/changeuserinfo",a);case 9:r=t.sent,e.$store.dispatch("Notify",r.data.message),e.getUsers(),e.$refs.form3.reset(),e.updateConfirmation=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),console.log("heere",t.t0);case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[3,16]])})))()},deleteSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,console.log("Deleting...,",e.deleteSelect),t.prev=2,t.next=5,e.$http.post("/api/auth/forceremoveuser",{username:e.deleteSelect.username});case 5:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.deleteSelect={},e.deleteConfirmation=!1,t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](2);case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},createClose:function(){this.create=!1,this.$refs.form.reset()},updateClose:function(){this.updateConfirmation=!1,this.updateSelect={},this.$refs.form3.reset(),this.$refs.form&&this.$refs.form.resetValidation()}}}),Be=Ie,Ye=a("8fea"),ze=a("169a"),We=Object(x["a"])(Be,Ue,Me,!1,null,null,null),He=We.exports;k()(We,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VContainer:Z["a"],VDataTable:Ye["a"],VDialog:ze["a"],VDivider:je["a"],VFlex:ee["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSelect:Ne["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{model:{value:e.stepNumber,callback:function(t){e.stepNumber=t},expression:"stepNumber"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.stepNumber>1,"edit-icon":"mdi-filter",editable:"",step:"1"},on:{click:function(t){t.preventDefault(),e.deptFilter=null,e.semFilter=null,e.secFilter=null,e.noofsems=null}}},[e._v(" Department ")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:e.stepNumber>1,complete:e.stepNumber>2,"edit-icon":"mdi-filter",step:"2"},on:{click:function(t){t.preventDefault(),e.semFilter=null,e.secFilter=null}}},[e._v(" Semester ")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:e.stepNumber>2,complete:e.stepNumber>3,"edit-icon":"mdi-filter",step:"3"},on:{click:function(t){t.preventDefault(),e.secFilter=null}}},[e._v(" Section ")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:e.stepNumber>3,complete:"","complete-icon":"mdi-calendar-lock-outline","edit-icon":"mdi-calendar-edit",step:"4"}},[e._v(" Manage Time Table ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Select Department")])]),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"success",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Create Departments ")],1)]}}]),model:{value:e.createDept,callback:function(t){e.createDept=t},expression:"createDept"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Create Department")])]),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.createDeptSubmit(t)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Department Name",type:"text",rules:e.requiredRule},model:{value:e.deptPostData.dept,callback:function(t){e.$set(e.deptPostData,"dept",t)},expression:"deptPostData.dept"}}),a("v-text-field",{attrs:{label:"No. of Semesters",type:"number",rules:e.requiredRule},model:{value:e.deptPostData.sems,callback:function(t){e.$set(e.deptPostData,"sems",t)},expression:"deptPostData.sems"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return t.preventDefault(),e.createClose(t)}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.createDeptSubmit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1),a("v-container",[a("v-row",e._l(e.departments,(function(t,r){return a("v-col",{key:r,attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{hover:""},on:{click:function(a){a.preventDefault(),e.stepNumber=2,e.deptFilter=t.dept,e.noofsems=t.sems,e.getSemesters()}}},[a("v-card-title",[e._v(e._s(t.dept)+" "),a("v-spacer"),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,s=r.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"black"},on:{click:function(a){a.preventDefault(),e.deptPostData=Object.assign({},t),e.updateSelect=e.deptPostData.dept}}},"v-icon",s,!1),n),[e._v("mdi-pencil-box")])]}}],null,!0),model:{value:e.updateConfirmation,callback:function(t){e.updateConfirmation=t},expression:"updateConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Update Department")])]),a("v-form",{ref:"form3",refInFor:!0,on:{submit:function(t){return t.preventDefault(),e.updateDeptSubmit(r)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Department Name",type:"text",rules:e.requiredRule},model:{value:e.deptPostData.dept,callback:function(t){e.$set(e.deptPostData,"dept",t)},expression:"deptPostData.dept"}}),a("v-text-field",{attrs:{label:"No. of Semesters",type:"number",rules:e.requiredRule},model:{value:e.deptPostData.sems,callback:function(t){e.$set(e.deptPostData,"sems",t)},expression:"deptPostData.sems"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.updateClose(r)}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.updateDeptSubmit(r)}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,s=r.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(a){a.preventDefault(),e.deleteSelect=t}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteConfirmation,callback:function(t){e.deleteConfirmation=t},expression:"deleteConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Delete Department")])]),a("v-form",{ref:"form2",refInFor:!0,on:{submit:function(t){return t.preventDefault(),e.deleteDeptSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Delete the Department: "+e._s(t.dept)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteConfirmation=!1,e.deleteSelect=null}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.deleteDeptSubmit()}}},[e._v("YES")])],1)],1)],1)],1)],1),a("v-card-text",[e._v("No. of Semesters: "+e._s(t.sems))])],1)],1)})),1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Select Semester")])]),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"success",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Create Courses ")],1)]}}]),model:{value:e.createCourses,callback:function(t){e.createCourses=t},expression:"createCourses"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Add Courses")])]),a("v-form",{ref:"form4",on:{submit:function(t){return t.preventDefault(),e.createCourseSubmit(t)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Course Code",type:"text",rules:e.requiredRule},model:{value:e.coursePostData.coursecode,callback:function(t){e.$set(e.coursePostData,"coursecode",t)},expression:"coursePostData.coursecode"}}),a("v-text-field",{attrs:{label:"Course Name",type:"text",rules:e.requiredRule},model:{value:e.coursePostData.name,callback:function(t){e.$set(e.coursePostData,"name",t)},expression:"coursePostData.name"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return t.preventDefault(),e.createCourseClose(t)}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.createCourseSubmit(t)}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"black",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Update Courses ")],1)]}}]),model:{value:e.updateCourseConfirmation,callback:function(t){e.updateCourseConfirmation=t},expression:"updateCourseConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Update Courses")])]),a("v-form",{ref:"form5",on:{submit:function(t){return t.preventDefault(),e.updateCourseSubmit()}}},[a("v-card-text",[a("v-select",{attrs:{items:e.courses,label:"Course","item-text":function(e){return e.coursecode+" - "+e.name},"item-value":function(e){return e}},on:{input:function(t){return e.coursePostData=Object.assign({},t)}},model:{value:e.updateSelect,callback:function(t){e.updateSelect=t},expression:"updateSelect"}}),e.updateSelect?a("v-text-field",{attrs:{label:"Course Code",type:"text",rules:e.requiredRule},model:{value:e.coursePostData.coursecode,callback:function(t){e.$set(e.coursePostData,"coursecode",t)},expression:"coursePostData.coursecode"}}):e._e(),e.updateSelect?a("v-text-field",{attrs:{label:"Course Name",type:"text",rules:e.requiredRule},model:{value:e.coursePostData.name,callback:function(t){e.$set(e.coursePostData,"name",t)},expression:"coursePostData.name"}}):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.updateCourseClose}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading||!e.updateSelect},on:{click:function(t){return t.preventDefault(),e.updateCourseSubmit()}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"error",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Delete Course ")],1)]}}]),model:{value:e.deleteCourseConfirmation,callback:function(t){e.deleteCourseConfirmation=t},expression:"deleteCourseConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Delete Course")])]),a("v-form",{ref:"form6",on:{submit:function(t){return t.preventDefault(),e.deleteCourseSubmit(t)}}},[a("v-card-text",[a("v-select",{attrs:{items:e.courses,label:"Course","item-text":function(e){return e.coursecode+" - "+e.name},"item-value":function(e){return e.coursecode}},model:{value:e.deleteSelect,callback:function(t){e.deleteSelect=t},expression:"deleteSelect"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteCourseClose}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading||!e.deleteSelect},on:{click:function(t){return t.preventDefault(),e.deleteCourseSubmit(t)}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"primary",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Attach Courses ")],1)]}}]),model:{value:e.attachCourseConfirmation,callback:function(t){e.attachCourseConfirmation=t},expression:"attachCourseConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Attach Course")])]),a("v-form",{ref:"form7",on:{submit:function(t){return t.preventDefault(),e.attachCourseSubmit()}}},[a("v-card-text",[a("v-select",{attrs:{items:e.semesters,label:"Semester"},on:{input:e.getCurrentlyAttached},model:{value:e.attachPostData.sem,callback:function(t){e.$set(e.attachPostData,"sem",t)},expression:"attachPostData.sem"}}),a("v-select",{attrs:{items:e.courses,label:"Courses","item-text":function(e){return e.coursecode+" - "+e.name},"item-value":function(e){return e.coursecode},multiple:""},model:{value:e.attachPostData.coursecodes,callback:function(t){e.$set(e.attachPostData,"coursecodes",t)},expression:"attachPostData.coursecodes"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.attachCourseClose}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.attachCourseSubmit()}}},[e._v("Submit")])],1)],1)],1)],1)],1),a("v-container",[a("v-row",e._l(e.semesters,(function(t){return a("v-col",{key:t,attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{hover:""},on:{click:function(a){a.preventDefault(),e.stepNumber=3,e.semFilter=t,e.getSections()}}},[a("v-card-title",[e._v(e._s(t)+" ")])],1)],1)})),1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Select Section")])]),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{margin:"16px"},attrs:{color:"success",dark:"",tile:""}},"v-btn",n,!1),r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Create Sections ")],1)]}}]),model:{value:e.createSection,callback:function(t){e.createSection=t},expression:"createSection"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Create Sections")])]),a("v-form",{ref:"form8",on:{submit:function(t){return t.preventDefault(),e.createSectionSubmit(t)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Section Name",type:"text",rules:e.requiredRule},model:{value:e.sectionPostData.section,callback:function(t){e.$set(e.sectionPostData,"section",t)},expression:"sectionPostData.section"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return t.preventDefault(),e.createSectionClose(t)}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.createSectionSubmit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1),a("v-container",[a("v-row",e._l(e.sections,(function(t,r){return a("v-col",{key:r,attrs:{cols:"12",sm:"4",md:"3"}},[a("v-card",{attrs:{hover:""},on:{click:function(a){a.preventDefault(),e.stepNumber=4,e.secFilter=t.section,e.getTimeTableInit()}}},[a("v-card-title",[e._v(e._s(t.section)+" "),a("v-spacer"),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,s=r.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"black"},on:{click:function(a){a.preventDefault(),e.sectionPostData=Object.assign({},t),e.updateSelect=e.sectionPostData.section}}},"v-icon",s,!1),n),[e._v("mdi-pencil-box")])]}}],null,!0),model:{value:e.updateSectionConfirmation,callback:function(t){e.updateSectionConfirmation=t},expression:"updateSectionConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Update Section")])]),a("v-form",{ref:"form9",refInFor:!0,on:{submit:function(t){return t.preventDefault(),e.updateSectionSubmit(r)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Section Name",type:"text",rules:e.requiredRule},model:{value:e.sectionPostData.section,callback:function(t){e.$set(e.sectionPostData,"section",t)},expression:"sectionPostData.section"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.updateSectionClose(r)}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.updateSectionSubmit(r)}}},[e._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,s=r.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(a){a.preventDefault(),e.deleteSelect=t.section}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteSectionConfirmation,callback:function(t){e.deleteSectionConfirmation=t},expression:"deleteSectionConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Delete Section")])]),a("v-form",{ref:"form10",refInFor:!0,on:{submit:function(t){return t.preventDefault(),e.deleteSectionSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Delete the Section: "+e._s(t.section)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteSectionConfirmation=!1,e.deleteSelect=null}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.deleteSectionSubmit()}}},[e._v("YES")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"4"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1"}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Time Table")])]),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cfheaders,items:e.coursetofacultydata,"items-per-page":-1,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.coursecode",fn:function(t){var r=t.item;return[a("v-select",{attrs:{items:e.allcoursesdd[r.coursecode+"-"+r.faculty]},on:{input:function(t){e.checkFacultyArray(),e.checkSlotArray()}},model:{value:r.coursecode,callback:function(t){e.$set(r,"coursecode",t)},expression:"item.coursecode"}})]}},{key:"item.faculty",fn:function(t){var r=t.item;return[a("v-select",{attrs:{items:e.allfaculties[r.coursecode]},on:{input:function(t){"-"!==e.coursetofacultydata[e.coursetofacultydata.length-1].faculty&&e.coursetofacultydata.push({coursecode:"-",faculty:"-"}),e.checkFacultyArray(),e.checkSlotArray()}},model:{value:r.faculty,callback:function(t){e.$set(r,"faculty",t)},expression:"item.faculty"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",e._l(e.coursetofacultydata,(function(t,r){return a("v-col",{key:r,attrs:{cols:"12",md:"12"}},["-"!==t.coursecode?a("v-card",[a("v-card-title",{staticClass:"pt-0 pb-0"},[a("span",[e._v(e._s(t.coursecode)+"-"+e._s(t.faculty))])]),a("v-card-text",{staticClass:"pb-0"},e._l(e.allfacultycourses[t.coursecode][t.faculty],(function(t,r){return a("v-chip",{key:r,staticClass:"ma-2"},[e._v(" "+e._s(t)+" ")])})),1)],1):e._e()],1)})),1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 ma-4 pl-4",attrs:{headers:e.ttheaders,items:e.slotdata,"items-per-page":-1,"hide-default-footer":!0},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("tr",[e._v(" "+e._s(r.day)+" "),e._l(Object.keys(e.slotdet),(function(t){return a("td",{key:t,staticClass:"text-start"},[a("v-select",{attrs:{items:e.facdd[r.day][t],disabled:e.facdd[r.day][t].length<=1},on:{input:e.checkSlotArray},model:{value:r[t],callback:function(a){e.$set(r,t,a)},expression:"item[sl]"}})],1)}))],2)]}}])})],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.submitChanges}},[e._v(" Submit Changes ")])],1)],1)],1)],1)},Ge=[],Qe=a("2909"),Je=a("3835"),Xe=(a("4fad"),a("b64b"),a("7db0"),a("fb6a"),a("a434"),{data:function(){return{stepNumber:1,deleteConfirmation:!1,deleteSelect:null,updateSelect:null,updateConfirmation:!1,updateSectionConfirmation:!1,updateCourseConfirmation:!1,deleteCourseConfirmation:!1,attachCourseConfirmation:!1,deleteSectionConfirmation:!1,departments:[],semesters:[],courses:[],sections:[],createDept:!1,createCourses:!1,createSection:!1,loading:!1,noofsems:null,deptFilter:null,semFilter:null,secFilter:null,deptPostData:{dept:null,sems:null},coursePostData:{coursecode:null,name:null},attachPostData:{dept:null,coursecodes:[],sem:null},sectionPostData:{},allcourses:[],allcoursesdd:{},allfaculties:[],allfacultycourses:{},coursetofacultydata:[],cfheaders:[{text:"Course Code",sortable:!1,value:"coursecode"},{text:"Faculty",sortable:!1,value:"faculty"}],slotdet:[],ttheaders:[],slotdata:[],facdd:{monday:{},tuesday:{},wednesday:{},thursday:{},friday:{}},requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){this.getDepartments()},methods:{submitChanges:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/calendar/updatetimetable",{slotdata:e.slotdata,coursetofacultydata:e.coursetofacultydata,dept:e.deptFilter,sem:e.semFilter,section:e.secFilter});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getTimeTableInit(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getDepartments:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/timetable/readdept");case 3:e.departments=t.sent.data.departments,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getSemesters:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/timetable/getactivesem");case 3:if(a=t.sent.data.odd,e.semesters=[],a)for(r=1;r<=e.noofsems;r+=2)e.semesters.push(r);else for(n=2;n<=e.noofsems;n+=2)e.semesters.push(n);e.getCourses(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$router.push("/Dashboard");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getCourses:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/timetable/readcourses");case 3:e.courses=t.sent.data.courses,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getSections:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/timetable/readclassesunderdept/".concat(e.deptFilter));case 3:e.sections=t.sent.data.sections,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getTimeTableInit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c,l,i,u,d,p,m,f,v,b,h,g,x,y,k,D,C,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/api/calendar/fetchtimetable",{dept:e.deptFilter,sem:e.semFilter,section:e.secFilter});case 3:for(a=t.sent.data,console.log(a),e.allfacultycourses=a.faculties,e.coursetofacultydata=a.faculty_sub,e.coursetofacultydata.push({coursecode:"-",faculty:"-"}),e.allcourses=["-"],e.allfaculties={"-":["-"]},r=0,n=Object.entries(e.allfacultycourses);r<n.length;r++)for(s=Object(Je["a"])(n[r],2),o=s[0],c=s[1],e.allcourses.push(o),e.allfaculties[o]=["-"],l=0,i=Object.keys(c);l<i.length;l++)u=i[l],e.allfaculties[o]||(e.allfaculties[o]=[]),e.allfaculties[o].push(u);e.checkFacultyArray(),e.slotdata=a.slotdata,e.slotdet=a.slots,e.ttheaders=[],e.ttheaders.push({text:"day",sortable:!1,value:"day"}),e.slotdata[0].day="monday",e.slotdata[1].day="tuesday",e.slotdata[2].day="wednesday",e.slotdata[3].day="thursday",e.slotdata[4].day="friday",d={monday:"MON",tuesday:"TUE",wednesday:"WED",thursday:"THU",friday:"FRI"},p=Object(qe["a"])(e.slotdata),t.prev=23,p.s();case 25:if((m=p.n()).done){t.next=38;break}f=m.value,v=function(){var t=Object(Je["a"])(h[b],2),a=t[0],r=t[1];if("-"!==r&&"day"!==a){var n=e.coursetofacultydata.find((function(e){return e.coursecode===r}));if(console.log(n,r),void 0===n)return f[a]="-","continue";var s="".concat(d[f.day],"-").concat(a.charAt(4));-1===e.allfacultycourses[n.coursecode][n.faculty].indexOf(s)&&e.allfacultycourses[n.coursecode][n.faculty].push(s)}},b=0,h=Object.entries(f);case 29:if(!(b<h.length)){t.next=36;break}if(g=v(),"continue"!==g){t.next=33;break}return t.abrupt("continue",33);case 33:b++,t.next=29;break;case 36:t.next=25;break;case 38:t.next=43;break;case 40:t.prev=40,t.t0=t["catch"](23),p.e(t.t0);case 43:return t.prev=43,p.f(),t.finish(43);case 46:for(x=0,y=Object.entries(e.slotdet);x<y.length;x++)k=Object(Je["a"])(y[x],2),D=k[0],C=k[1],S={text:"".concat(D," (").concat(C,")"),sortable:!1,value:D},e.ttheaders.push(S);e.checkSlotArray(),t.next=53;break;case 50:t.prev=50,t.t1=t["catch"](0),console.log(t.t1);case 53:case"end":return t.stop()}}),t,null,[[0,50],[23,40,43,46]])})))()},checkSlotArray:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c,l,i,u,d,p,m,f,v,b,h,g,x,y,k,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a={MON:"monday",TUE:"tuesday",WED:"wednesday",THU:"thursday",FRI:"friday"},r=["buf","slot1","slot2","slot3","slot4","slot5","slot6"],t.prev=2,e.facdd)for(s=0,o=Object.keys(e.slotdet);s<o.length;s++)c=o[s],e.facdd[n][c]=["-"];l=Object(qe["a"])(e.coursetofacultydata);try{for(l.s();!(i=l.n()).done;)if(u=i.value,"-"!==u.coursecode&&"-"!==u.faculty){d=e.allfacultycourses[u.coursecode][u.faculty],p=Object(qe["a"])(d);try{for(p.s();!(m=p.n()).done;)f=m.value,v=f.split("-"),e.facdd[a[v[0]]][r[v[1]]].push(u.coursecode)}catch(C){p.e(C)}finally{p.f()}}}catch(C){l.e(C)}finally{l.f()}b=Object(qe["a"])(e.slotdata),t.prev=7,b.s();case 9:if((h=b.n()).done){t.next=22;break}g=h.value,x=function(){var t=Object(Je["a"])(k[y],2),a=t[0],r=t[1];if("day"===a)return"continue";if("-"!==r){var n=e.coursetofacultydata.find((function(e){return e.coursecode===r}));void 0!==n&&"-"!==n.faculty||(g[a]="-"),-1===e.facdd[g.day][a].indexOf(r)&&void 0!==n&&"-"!==n.faculty&&e.facdd[g.day][a].push(r)}},y=0,k=Object.entries(g);case 13:if(!(y<k.length)){t.next=20;break}if(D=x(),"continue"!==D){t.next=17;break}return t.abrupt("continue",17);case 17:y++,t.next=13;break;case 20:t.next=9;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](7),b.e(t.t0);case 27:return t.prev=27,b.f(),t.finish(27);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](2),console.log(t.t1);case 35:e.slotdata=e.slotdata.slice();case 36:case"end":return t.stop()}}),t,null,[[2,32],[7,24,27,30]])})))()},checkFacultyArray:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c,l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=0;a<e.coursetofacultydata.length-2;a++)"-"===e.coursetofacultydata[a].coursecode&&e.coursetofacultydata.splice(a,1);e.allcoursesdd={},r=Object(qe["a"])(e.coursetofacultydata);try{for(r.s();!(n=r.n()).done;){s=n.value,e.allcoursesdd["".concat(s.coursecode,"-").concat(s.faculty)]=Object(Qe["a"])(e.allcourses),o=Object(qe["a"])(e.coursetofacultydata);try{for(o.s();!(c=o.n()).done;)l=c.value,l.coursecode!==s.coursecode&&(i=e.allcoursesdd["".concat(s.coursecode,"-").concat(s.faculty)].indexOf(l.coursecode),"-"!==l.coursecode&&-1!==i&&e.allcoursesdd["".concat(s.coursecode,"-").concat(s.faculty)].splice(i,1))}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}case 4:case"end":return t.stop()}}),t)})))()},createDeptSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/timetable/createdept",e.deptPostData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.createDept=!1,e.getDepartments(),e.$refs.form.reset(),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](3);case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[3,13]])})))()},updateDeptSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$refs.form3[e].validate()){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,a.prev=3,r=Object(u["a"])({},t.deptPostData),r.olddept=t.updateSelect,a.next=8,t.$http.post("/api/timetable/updatedept",r);case 8:n=a.sent,t.$store.dispatch("Notify",n.data.message),t.getDepartments(),t.updateSelect=null,t.$refs.form3[e].reset(),t.updateConfirmation=!1,a.next=18;break;case 16:a.prev=16,a.t0=a["catch"](3);case 18:t.loading=!1;case 19:case"end":return a.stop()}}),a,null,[[3,16]])})))()},deleteDeptSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/timetable/deletedept",{dept:e.deleteSelect.dept});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getDepartments(),e.deleteSelect=null,e.deleteConfirmation=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},createCourseSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form4.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/timetable/createcourse",e.coursePostData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.createCourses=!1,e.getCourses(),e.$refs.form4.reset(),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](3);case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[3,13]])})))()},updateCourseSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form5.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,a=Object(u["a"])({},e.coursePostData),a.oldcoursecode=e.updateSelect.coursecode,t.next=8,e.$http.post("/api/timetable/updatecourse",a);case 8:r=t.sent,e.$store.dispatch("Notify",r.data.message),e.getCourses(),e.updateSelect=null,e.coursePostData={},e.$refs.form4.resetValidation(),e.$refs.form5.resetValidation(),e.updateCourseConfirmation=!1,t.next=20;break;case 18:t.prev=18,t.t0=t["catch"](3);case 20:e.loading=!1;case 21:case"end":return t.stop()}}),t,null,[[3,18]])})))()},deleteCourseSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/timetable/deletecourse",{coursecode:e.deleteSelect});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getCourses(),e.deleteSelect=null,e.deleteCourseConfirmation=!1,e.$refs.form6.reset(),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](1);case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},getCurrentlyAttached:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/timetable/getcourselistundersem",{sem:e.attachPostData.sem,dept:e.deptFilter});case 4:e.attachPostData.coursecodes=t.sent.data.coursecodes,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},attachCourseSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form7.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,a=Object(u["a"])({},e.attachPostData),a.dept=e.deptFilter,console.log(a),t.next=9,e.$http.post("/api/timetable/createcourseundersem",a);case 9:r=t.sent,e.$store.dispatch("Notify",r.data.message),e.$refs.form7.reset(),e.attachCourseConfirmation=!1,t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](3);case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[3,15]])})))()},createSectionSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form8.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,e.sectionPostData.dept=e.deptFilter,t.next=7,e.$http.post("/api/timetable/createclassesunderdept",e.sectionPostData);case 7:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.createSection=!1,e.getSections(),e.$refs.form8.reset(),t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](3);case 16:e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))()},updateSectionSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$refs.form9[e].validate()){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,a.prev=3,r=Object(u["a"])({},t.sectionPostData),r.oldsection=t.updateSelect,r.dept=t.deptFilter,a.next=9,t.$http.post("/api/timetable/updateclassesunderdept",r);case 9:n=a.sent,t.$store.dispatch("Notify",n.data.message),t.getSections(),t.updateSelect=null,t.$refs.form9[e].reset(),t.updateSectionConfirmation=!1,a.next=19;break;case 17:a.prev=17,a.t0=a["catch"](3);case 19:t.loading=!1;case 20:case"end":return a.stop()}}),a,null,[[3,17]])})))()},deleteSectionSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,console.log("Deleting...,",e.deleteSelect),t.prev=2,t.next=5,e.$http.post("/api/timetable/deleteclassesunderdept",{section:e.deleteSelect,dept:e.deptFilter});case 5:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getSections(),e.deleteSelect=null,e.deleteSectionConfirmation=!1,t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](2);case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},updateClose:function(e){this.updateConfirmation=!1,this.updateSelect=null,this.$refs.form3[e].reset()},createClose:function(){this.createDept=!1,this.$refs.form.reset()},createCourseClose:function(){this.createCourses=!1,this.$refs.form4.reset()},updateCourseClose:function(){this.updateCourseConfirmation=!1,this.updateSelect=!1,this.coursePostData={},this.$refs.form4.resetValidation(),this.$refs.form5.resetValidation()},deleteCourseClose:function(){this.deleteCourseConfirmation=!1,this.deleteSelect=!1,this.$refs.form6.reset()},attachCourseClose:function(){this.attachCourseConfirmation=!1,this.$refs.form7.reset()},updateSectionClose:function(e){this.updateSectionConfirmation=!1,this.updateSelect=null,this.$refs.form9[e].reset()},createSectionClose:function(){this.createSection=!1,this.$refs.form8.reset()},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")}}}),Ze=Xe,et=a("cc20"),tt=a("7e85"),at=a("e516"),rt=a("9c54"),nt=a("56a4"),st=Object(x["a"])(Ze,Ke,Ge,!1,null,null,null),ot=st.exports;k()(st,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VChip:et["a"],VCol:ge["a"],VContainer:Z["a"],VDataTable:Ye["a"],VDialog:ze["a"],VDivider:je["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSelect:Ne["a"],VSpacer:O["a"],VStepper:tt["a"],VStepperContent:at["a"],VStepperHeader:rt["a"],VStepperItems:rt["b"],VStepperStep:nt["a"],VTextField:re["a"]});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage Exam Schedule")])],1),a("v-card-text",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column",width:"100%"}},[a("v-select",{attrs:{items:["p1","p2","p3","endsem"],label:"Type",rules:e.requiredRule},model:{value:e.examType,callback:function(t){e.examType=t},expression:"examType"}}),a("v-select",{attrs:{disabled:!e.examType,items:e.departments,label:"Department","item-text":"dept","item-value":function(e){return e},rules:e.requiredRule},on:{change:e.getSemesters},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),a("v-select",{attrs:{disabled:!e.department,items:e.semesters,label:"Semester",rules:e.requiredRule},model:{value:e.semester,callback:function(t){e.semester=t},expression:"semester"}}),a("v-date-picker",{attrs:{scrollabe:"",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}}),e.enumeratedDates?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.FormatHeader(e.sections),items:[{}],"items-per-page":-1,"hide-default-footer":!0},scopedSlots:e._u([{key:"item",fn:function(t){return e._l(e.enumeratedDates,(function(t,r){return a("tr",{key:t},[a("td",[e._v(e._s(t))]),e._l(e.sections,(function(t,n){return a("td",{key:n,staticClass:"text-start"},[a("v-select",{attrs:{items:e.faculties,"item-text":"name","item-value":"faculty",label:"Faculty"},model:{value:e.examSlot[r][n]["faculty"],callback:function(t){e.$set(e.examSlot[r][n],"faculty",t)},expression:"examSlot[enind][secind]['faculty']"}}),a("v-select",{attrs:{items:e.courses,label:"CourseCode"},model:{value:e.examSlot[r][n]["courseCode"],callback:function(t){e.$set(e.examSlot[r][n],"courseCode",t)},expression:"examSlot[enind][secind]['courseCode']"}}),a("v-select",{attrs:{items:e.examSlotsAvailable,label:"Slot"},model:{value:e.examSlot[r][n]["slot"],callback:function(t){e.$set(e.examSlot[r][n],"slot",t)},expression:"examSlot[enind][secind]['slot']"}})],1)}))],2)}))}}],null,!1,1307552710)})],1):e._e()],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",elevation:"2"},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)],1)},lt=[],it=(a("07ac"),a("c1df")),ut=a.n(it),dt={data:function(){return{loading:!1,examType:null,semesters:[],semester:null,dates:[],startDate:null,endDate:null,examSlot:[],examSlotsAvailable:[],departments:[],department:null,sections:[],courses:[],faculties:[],enumeratedDates:null,academicYear:null,requiredRule:[function(e){return!!e||"Required!"}]}},watch:{dates:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c,l,i,u,d,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.dates),1!==e.dates.length){t.next=6;break}return e.startDate=e.endDate=e.dates[0],t.abrupt("return");case 6:if(2!==e.dates.length){t.next=34;break}if(e.dates[0]>e.dates[1]&&(a=e.dates[0],e.dates[0]=e.dates[1],e.dates[1]=a),e.startDate=e.dates[0],e.endDate=e.dates[1],null!==e.semester){t.next=12;break}return t.abrupt("return");case 12:return t.prev=12,t.next=15,e.$http.post("/api/examschedule/getexamschedule",{type:e.examType,dept:e.department.dept,sem:e.semester,startdate:e.startDate,enddate:e.endDate});case 15:for(r=t.sent,n=r.data.result,e.faculties=r.data.faculties,e.sections=r.data.sections,e.courses=r.data.courses,e.examSlotsAvailable=r.data.totalslot,e.academicYear=r.data.academic_year,s=new Date(e.startDate),o=new Date(e.endDate),e.examSlot=[],e.enumeratedDates=[],c=s;c<=o;c.setDate(c.getDate()+1))for(l in e.enumeratedDates.push(ut()(new Date(c)).utc(!0).format("yyyy-MM-DD")),e.examSlot.push(Array(e.sections.length)),e.sections)e.examSlot[e.examSlot.length-1][l]={faculty:null,courseCode:null,slot:null};i=Object(qe["a"])(n);try{for(i.s();!(u=i.n()).done;)d=u.value,p=e.enumeratedDates.indexOf(d.date),m=r.data.sections.indexOf(d.section),e.examSlot[p][m]["slot"]=d.exam_slot,e.examSlot[p][m]["courseCode"]=d.coursecode,e.examSlot[p][m]["faculty"]=d.faculty}catch(f){i.e(f)}finally{i.f()}t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](12),console.log(t.t0);case 34:case"end":return t.stop()}}),t,null,[[12,31]])})))()}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={startDate:e.startDate,endDate:e.endDate,es:[],sem:e.semester,dept:e.department.dept},t.prev=1,r={},n=0;case 4:if(!(n<e.examSlot.length)){t.next=36;break}s={},o=0;case 7:if(!(o<e.examSlot[n].length)){t.next=33;break}if(null!==e.examSlot[n][o]["slot"]||null!==e.examSlot[n][o]["courseCode"]||null!==e.examSlot[n][o]["faculty"]){t.next=12;break}return t.abrupt("continue",30);case 12:if(null!==e.examSlot[n][o]["slot"]&&null!==e.examSlot[n][o]["courseCode"]&&null!==e.examSlot[n][o]["faculty"]){t.next=16;break}throw new Error("Invalid Data");case 16:if(void 0===s[e.examSlot[n][o]["faculty"]]){t.next=21;break}if(s[e.examSlot[n][o]["faculty"]]!==e.examSlot[n][o]["slot"]){t.next=19;break}throw new Error("Invalid Slot on Same Day");case 19:t.next=22;break;case 21:s[e.examSlot[n][o]["faculty"]]=e.examSlot[n][o]["slot"];case 22:if(void 0===r[o]||!r[o].includes(e.examSlot[n][o]["courseCode"])){t.next=26;break}throw new Error("Invalid Exam Schedule");case 26:void 0===r[o]&&(r[o]=[]),r[o].push(e.examSlot[n][o]["courseCode"]);case 28:console.log(r),a.es.push([e.enumeratedDates[n],e.examSlot[n][o]["slot"],e.examSlot[n][o]["courseCode"],e.semester,e.department.dept,e.examSlot[n][o]["faculty"],e.examType,e.sections[o],e.academicYear]);case 30:o++,t.next=7;break;case 33:n++,t.next=4;break;case 36:t.next=43;break;case 38:return t.prev=38,t.t0=t["catch"](1),console.log(t.t0),e.$store.dispatch("Notify",String(t.t0)),t.abrupt("return");case 43:return t.prev=43,t.next=46,e.$http.post("/api/examschedule/examscheduleinit",a);case 46:c=t.sent,e.$store.dispatch("Notify",String(c.data.message)),t.next=52;break;case 50:t.prev=50,t.t1=t["catch"](43);case 52:case"end":return t.stop()}}),t,null,[[1,38],[43,50]])})))()},FormatHeader:function(e){var t=[];t.push({text:"",align:"start",sortable:!1,value:"currdate"});for(var a=0,r=Object.values(e);a<r.length;a++){var n=r[a];t.push({text:n,sortable:!1,value:n})}return t},getSemesters:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.noofsems=e.department.sems,t.prev=2,t.next=5,e.$http.get("/api/timetable/getactivesem");case 5:if(a=t.sent.data.odd,e.semesters=[],a)for(r=1;r<=e.noofsems;r+=2)e.semesters.push({text:r,value:r});else for(n=2;n<=e.noofsems;n+=2)e.semesters.push({text:n,value:n});t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/timetable/readdept");case 4:e.departments=t.sent.data.departments,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},pt=dt,mt=a("2e4b"),ft=Object(x["a"])(pt,ct,lt,!1,null,null,null),vt=ft.exports;k()(ft,{VBtn:S["a"],VCard:Q["a"],VCardText:J["c"],VContainer:Z["a"],VDataTable:Ye["a"],VDatePicker:mt["a"],VFlex:ee["a"],VLayout:ae["a"],VSelect:Ne["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage Profile Change Request")])],1),a("v-divider"),a("v-row",{staticClass:"ma-2",attrs:{justify:"center"}}),a("v-card",[a("v-card-title",[e._v(" Profile Change Requests "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,"item-key":"_id",loading:e.tableLoading,"loading-text":"Loading Users...Please Wait!",items:e.users,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"success"},on:{click:function(t){t.preventDefault(),e.updateSelect=r.faculty}}},"v-icon",s,!1),n),[e._v("mdi-checkbox-marked")])]}}],null,!0),model:{value:e.updateConfirmation,callback:function(t){e.updateConfirmation=t},expression:"updateConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Accept Profile Change Request")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.acceptSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Accept the Profile Change Request: "+e._s(e.updateSelect)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){t.preventDefault(),e.updateConfirmation=!1,e.updateSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.acceptSubmit()}}},[e._v("YES")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){t.preventDefault(),e.deleteSelect=Object.assign({},r)}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteConfirmation,callback:function(t){e.deleteConfirmation=t},expression:"deleteConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Delete Users")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.rejectSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Reject the User: "+e._s(e.deleteSelect.faculty)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteConfirmation=!1,e.deleteSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.rejectSubmit()}}},[e._v("YES")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1)},ht=[],gt={data:function(){return{deleteConfirmation:!1,deleteSelect:{},updateSelect:{},updateConfirmation:!1,create:!1,loading:!1,search:"",tableLoading:!0,users:[],headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"Qualifications",value:"qualifications"},{text:"Username",value:"faculty"},{text:"Actions",value:"actions",align:"end",sortable:!1}],postData:{name:null,email:null,phone:null,role:null,qualifications:null,username:null,password:null,profilephoto:null},requiredRule:[function(e){return!!e||"Required!"}],emailRule:[function(e){return!!e&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],phoneRule:[function(e){return!!e&&!isNaN(parseFloat(e))&&e>=1e9&&e<=9999999999||"Phone Number must be valid"}]}},created:function(){this.getUsers(),this.tableLoading=!1},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/profile/showprofilechangerequest");case 3:e.users=t.sent.data.requests,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},acceptSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,Object(u["a"])({},e.postData),t.next=5,e.$http.post("/api/profile/acceptprofilechangerequest",{faculty:e.updateSelect});case 5:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.updateSelect={},e.updateConfirmation=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log("heere",t.t0);case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},rejectSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/profile/rejectprofilechangerequest",{faculty:e.deleteSelect.faculty});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.deleteSelect={},e.deleteConfirmation=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},xt=gt,yt=Object(x["a"])(xt,bt,ht,!1,null,null,null),kt=yt.exports;k()(yt,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VContainer:Z["a"],VDataTable:Ye["a"],VDialog:ze["a"],VDivider:je["a"],VFlex:ee["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Request Profile Change")])],1),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.createSubmit(t)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Name",type:"text",rules:e.requiredRule},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",rules:e.emailRule},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Phone Number",type:"number",rules:e.phoneRule},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-text-field",{attrs:{label:"Qualifications",type:"text"},model:{value:e.qualifications,callback:function(t){e.qualifications=t},expression:"qualifications"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1)],1)},Ct=[],St={data:function(){return{qualifications:null,phone:null,name:null,email:null,loading:!1,requiredRule:[function(e){return!!e||"Required!"}],emailRule:[function(e){return!!e&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],phoneRule:[function(e){return!!e&&!isNaN(parseFloat(e))&&e>=1e9&&e<=9999999999||"Phone Number must be valid"}]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchInitDetails();case 1:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.loading=!0,t.next=6,e.$http.post("/api/profile/requestprofilechange",{qualifications:e.qualifications,phone:e.phone,name:e.name,email:e.email});case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.fetchInitDetails(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.$router.push("/Dashboard");case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()},fetchInitDetails:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$http.get("/api/profile/initprofilechangedetails");case 4:a=t.sent,e.qualifications=a.data.result.qualifications,e.phone=a.data.result.phone,e.name=a.data.result.name,e.email=a.data.result.email,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$router.push("/Dashboard");case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},wt=St,_t=Object(x["a"])(wt,Dt,Ct,!1,null,null,null),jt=_t.exports;k()(_t,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md7:"",lg8:"",xl5:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage Faculty Courses")])],1),a("v-card-text",[a("v-form",{ref:"form"},[a("v-select",{attrs:{"item-text":"name","item-value":"faculty",items:e.faculties,label:"Faculty",rules:e.requiredRule},on:{change:e.getExistingCourses},model:{value:e.postData.faculty,callback:function(t){e.$set(e.postData,"faculty",t)},expression:"postData.faculty"}}),a("v-select",{attrs:{items:e.courses,label:"Courses","item-text":function(e){return e.coursecode+" - "+e.name},"item-value":function(e){return e.coursecode},multiple:""},model:{value:e.postData.coursecodes,callback:function(t){e.$set(e.postData,"coursecodes",t)},expression:"postData.coursecodes"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",depressed:"",large:"",block:""},on:{click:function(t){return t.preventDefault(),e.Submit(t)}}},[e._v("submit")]),a("v-spacer")],1)],1)],1)],1)],1)},Vt=[],Tt={data:function(){return{postData:{faculty:null,coursecodes:[]},faculties:[],courses:[],requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getFaculties();case 2:return t.next=4,e.getCourses();case 4:case"end":return t.stop()}}),t)})))()},methods:{getFaculties:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/profile/getallfaculties");case 3:e.faculties=t.sent.data.faculties,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getCourses:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/timetable/readcourses");case 3:e.courses=t.sent.data.courses,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getExistingCourses:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/profile/readsubjectshandledinfo/".concat(e.postData.faculty));case 3:a=t.sent.data.subjects_handledinfo,e.postData.coursecodes=[],r=Object(qe["a"])(a);try{for(r.s();!(n=r.n()).done;)s=n.value,e.postData.coursecodes.push(s.coursecode)}catch(o){r.e(o)}finally{r.f()}t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},Submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$http.post("/api/profile/changesubjectshandledinfo",e.postData);case 5:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.$refs.form.reset(),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},$t=Tt,Ot=Object(x["a"])($t,Rt,Vt,!1,null,null,null),qt=Ot.exports;k()(Ot,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VSelect:Ne["a"],VSpacer:O["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Declare Emergency Holiday")])],1),a("v-form",{ref:"form",on:{submit:e.submit}},[a("v-card-text",[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.postData.date,callback:function(t){e.$set(e.postData,"date",t)},expression:"postData.date"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{on:{input:function(t){t.preventDefault(),e.menu=!1}},model:{value:e.postData.date,callback:function(t){e.$set(e.postData,"date",t)},expression:"postData.date"}})],1),a("v-text-field",{attrs:{label:"Description",type:"text",rules:e.requiredRule},model:{value:e.postData.description,callback:function(t){e.$set(e.postData,"description",t)},expression:"postData.description"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",type:"submit",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1)],1)},Ft=[],Et={data:function(){return{postData:{date:null,description:null},menu:!1,loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/emergencyholiday/createnewholiday",e.postData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.$refs.form.reset(),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](3);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}},Nt=Et,Lt=Object(x["a"])(Nt,Pt,Ft,!1,null,"a9f15edc",null),At=Lt.exports;k()(Lt,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VDatePicker:mt["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VMenu:xe["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Request OD")])],1),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.createSubmit(t)}}},[a("v-card-text",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"d-flex justify-center",attrs:{md:"6"}},[a("v-date-picker",{model:{value:e.postData.date,callback:function(t){e.$set(e.postData,"date",t)},expression:"postData.date"}})],1),a("v-col",{staticStyle:{display:"flex","flex-direction":"column"},attrs:{md:"6"}},[a("v-select",{attrs:{items:e.slots,label:"From Slot",rules:e.requiredRule},model:{value:e.postData.fromslot,callback:function(t){e.$set(e.postData,"fromslot",t)},expression:"postData.fromslot"}}),a("v-select",{attrs:{items:e.toslots,label:"To Slot",disabled:null===e.postData.fromslot,rules:e.requiredRule},model:{value:e.postData.toslot,callback:function(t){e.$set(e.postData,"toslot",t)},expression:"postData.toslot"}})],1)],1),a("v-text-field",{attrs:{label:"Reason",type:"text",rules:e.requiredRule},model:{value:e.postData.reason,callback:function(t){e.$set(e.postData,"reason",t)},expression:"postData.reason"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1)],1)},Mt=[],It={data:function(){return{postData:{reason:null,date:null,fromslot:null,toslot:null},slots:[],toslots:[],loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchInitDetails();case 1:case"end":return t.stop()}}),t)})))()},watch:{"postData.fromslot":function(){var e=this;this.toslots=this.slots.filter((function(t){if(t>=e.postData.fromslot)return t})),this.postData.toslot=null}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(null!==e.postData.date){t.next=5;break}return e.$store.dispatch("Notify","Please Enter a Date!"),t.abrupt("return");case 5:return t.prev=5,e.loading=!0,t.next=9,e.$http.post("/api/odandleave/requestod",e.postData);case 9:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.fetchInitDetails(),e.$refs.form.reset(),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](5);case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[5,15]])})))()},fetchInitDetails:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.postData={reason:null,date:null,fromslot:null,toslot:null},t.prev=1,e.loading=!0,t.next=5,e.$http.get("/api/odandleave/getslotdetails");case 5:a=t.sent,e.slots=Object.keys(a.data.slots),e.toslots=Object.keys(a.data.slots),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$router.push("/Dashboard");case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}},Bt=It,Yt=Object(x["a"])(Bt,Ut,Mt,!1,null,null,null),zt=Yt.exports;k()(Yt,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCol:ge["a"],VContainer:Z["a"],VDatePicker:mt["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VRow:ye["a"],VSelect:Ne["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage OD Request")])],1),a("v-divider"),a("v-row",{staticClass:"ma-2",attrs:{justify:"center"}}),a("v-card",[a("v-card-title",[e._v(" OD Requests "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,"item-key":"_id",loading:e.tableLoading,"loading-text":"Loading Users...Please Wait!",items:e.users,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"success"},on:{click:function(t){t.preventDefault(),e.updateSelect=r.faculty}}},"v-icon",s,!1),n),[e._v("mdi-checkbox-marked")])]}}],null,!0),model:{value:e.updateConfirmation,callback:function(t){e.updateConfirmation=t},expression:"updateConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Accept OD Request")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.acceptSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Accept the OD Request: "+e._s(e.updateSelect)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){t.preventDefault(),e.updateConfirmation=!1,e.updateSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.acceptSubmit()}}},[e._v("YES")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){t.preventDefault(),e.deleteSelect=Object.assign({},r)}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteConfirmation,callback:function(t){e.deleteConfirmation=t},expression:"deleteConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Reject OD Request")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.rejectSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Reject the OD Request: "+e._s(e.deleteSelect.faculty)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteConfirmation=!1,e.deleteSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.rejectSubmit()}}},[e._v("YES")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1)},Ht=[],Kt={data:function(){return{deleteConfirmation:!1,deleteSelect:{},updateSelect:{},updateConfirmation:!1,loading:!1,search:"",tableLoading:!0,users:[],headers:[{text:"Name",value:"faculty"},{text:"Date",value:"date"},{text:"From Slot",value:"fromslot"},{text:"To Slot",value:"toslot"},{text:"Reason",value:"reason"},{text:"Actions",value:"actions",align:"end",sortable:!1}],requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){this.getUsers(),this.tableLoading=!1},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/odandleave/showodrequest");case 3:e.users=t.sent.data.requests,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},acceptSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/odandleave/acceptodrequest",{faculty:e.updateSelect});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.updateSelect={},e.updateConfirmation=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log("heere",t.t0);case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},rejectSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/odandleave/rejectodrequest",{faculty:e.deleteSelect.faculty});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.deleteSelect={},e.deleteConfirmation=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},Gt=Kt,Qt=Object(x["a"])(Gt,Wt,Ht,!1,null,null,null),Jt=Qt.exports;k()(Qt,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VContainer:Z["a"],VDataTable:Ye["a"],VDialog:ze["a"],VDivider:je["a"],VFlex:ee["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Request Leave")])],1),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.createSubmit(t)}}},[a("v-card-text",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"d-flex justify-center",attrs:{md:"6"}},[a("v-date-picker",{attrs:{scrollabe:"",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)],1),a("v-text-field",{attrs:{label:"Reason",type:"text",rules:e.requiredRule},model:{value:e.postData.reason,callback:function(t){e.$set(e.postData,"reason",t)},expression:"postData.reason"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1)],1)},Zt=[],ea={data:function(){return{postData:{reason:null,fromdate:null,todate:null},dates:null,loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchInitDetails();case 1:case"end":return t.stop()}}),t)})))()},watch:{dates:function(){if(console.log(this.dates),1!==this.dates.length){if(2===this.dates.length){if(this.dates[0]>this.dates[1]){var e=this.dates[0];this.dates[0]=this.dates[1],this.dates[1]=e}this.postData.fromdate=this.dates[0],this.postData.todate=this.dates[1]}}else this.postData.fromdate=this.postData.todate=this.dates[0]}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(null!==e.postData.date){t.next=5;break}return e.$store.dispatch("Notify","Please Enter a Date!"),t.abrupt("return");case 5:return t.prev=5,e.loading=!0,t.next=9,e.$http.post("/api/odandleave/requestleave",e.postData);case 9:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.fetchInitDetails(),e.$refs.form.reset(),e.dates=null,t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](5);case 18:e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[5,16]])})))()},fetchInitDetails:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.postData={reason:null,fromdate:null,todate:null};case 1:case"end":return t.stop()}}),t)})))()}}},ta=ea,aa=Object(x["a"])(ta,Xt,Zt,!1,null,null,null),ra=aa.exports;k()(aa,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCol:ge["a"],VContainer:Z["a"],VDatePicker:mt["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VRow:ye["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Manage Leave Request")])],1),a("v-divider"),a("v-row",{staticClass:"ma-2",attrs:{justify:"center"}}),a("v-card",[a("v-card-title",[e._v(" Leave Requests "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,"item-key":"_id",loading:e.tableLoading,"loading-text":"Loading Users...Please Wait!",items:e.users,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"success"},on:{click:function(t){t.preventDefault(),e.updateSelect=r.faculty}}},"v-icon",s,!1),n),[e._v("mdi-checkbox-marked")])]}}],null,!0),model:{value:e.updateConfirmation,callback:function(t){e.updateConfirmation=t},expression:"updateConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Accept Leave Request")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.acceptSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Accept the Leave Request: "+e._s(e.updateSelect)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){t.preventDefault(),e.updateConfirmation=!1,e.updateSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.acceptSubmit()}}},[e._v("YES")])],1)],1)],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){t.preventDefault(),e.deleteSelect=Object.assign({},r)}}},"v-icon",s,!1),n),[e._v("mdi-close-box")])]}}],null,!0),model:{value:e.deleteConfirmation,callback:function(t){e.deleteConfirmation=t},expression:"deleteConfirmation"}},[a("v-card",[a("v-card-title",[a("span",{},[e._v("Reject Leave Request")])]),a("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.rejectSubmit()}}},[a("v-card-text",{staticClass:"headline"},[e._v("Are You Sure You Want to Reject the Leave Request: "+e._s(e.deleteSelect.faculty)+" ?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){t.preventDefault(),e.deleteConfirmation=!1,e.deleteSelect={}}}},[e._v("NO")]),a("v-btn",{attrs:{color:"red darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.rejectSubmit()}}},[e._v("YES")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1)},sa=[],oa={data:function(){return{deleteConfirmation:!1,deleteSelect:{},updateSelect:{},updateConfirmation:!1,loading:!1,search:"",tableLoading:!0,users:[],headers:[{text:"Name",value:"faculty"},{text:"From Date",value:"fromdate"},{text:"To Date",value:"todate"},{text:"Reason",value:"reason"},{text:"Actions",value:"actions",align:"end",sortable:!1}],requiredRule:[function(e){return!!e||"Required!"}]}},created:function(){this.getUsers(),this.tableLoading=!1},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/odandleave/showleaverequest");case 3:e.users=t.sent.data.requests,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},acceptSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/odandleave/acceptleaverequest",{faculty:e.updateSelect});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.updateSelect={},e.updateConfirmation=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log("heere",t.t0);case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},rejectSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.post("/api/odandleave/rejectleaverequest",{faculty:e.deleteSelect.faculty});case 4:a=t.sent,e.$store.dispatch("Notify",a.data.message),e.getUsers(),e.deleteSelect={},e.deleteConfirmation=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},ca=oa,la=Object(x["a"])(ca,na,sa,!1,null,null,null),ia=la.exports;k()(la,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VContainer:Z["a"],VDataTable:Ye["a"],VDialog:ze["a"],VDivider:je["a"],VFlex:ee["a"],VForm:te["a"],VIcon:w["a"],VLayout:ae["a"],VRow:ye["a"],VSpacer:O["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Reset Password")])],1),a("v-form",{ref:"form",on:{submit:e.submit}},[a("v-card-text",[a("v-text-field",{attrs:{label:"New Password","prepend-icon":"mdi-lock",type:"password",rules:e.requiredRule},model:{value:e.postData.password,callback:function(t){e.$set(e.postData,"password",t)},expression:"postData.password"}}),a("v-text-field",{attrs:{label:"Confirm Password","prepend-icon":"mdi-lock",type:"password",rules:[function(t){return!!t&&e.confirmPassword==e.postData.password||"Password Does not Match!"}]},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",type:"submit",loading:e.loading,disabled:e.loading,block:""},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)],1)],1)],1)},da=[],pa={data:function(){return{postData:{password:null},confirmPassword:null,loading:!1,requiredRule:[function(e){return!!e||"Required!"}]}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$http.post("/api/auth/resetpassword",e.postData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},ma=pa,fa=Object(x["a"])(ma,ua,da,!1,null,"08e112b7",null),va=fa.exports;k()(fa,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Subscribe to Calendar Events")])],1),a("v-form",{ref:"form",on:{submit:e.submit}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Name",type:"text",rules:e.requiredRule},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name",t)},expression:"postData.name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",rules:e.emailRule},model:{value:e.postData.email,callback:function(t){e.$set(e.postData,"email",t)},expression:"postData.email"}}),a("v-select",{attrs:{items:e.semesters,label:"Semester",rules:e.requiredRule},model:{value:e.postData.sem,callback:function(t){e.$set(e.postData,"sem",t)},expression:"postData.sem"}}),e.departmentClasses?a("div",[a("v-select",{attrs:{items:Object.keys(e.departmentClasses),label:"Department",rules:e.requiredRule},model:{value:e.postData.dept,callback:function(t){e.$set(e.postData,"dept",t)},expression:"postData.dept"}}),e.postData.dept?a("div",[a("v-select",{attrs:{items:e.departmentClasses[e.postData.dept],label:"Section",rules:e.requiredRule},model:{value:e.postData.section,callback:function(t){e.$set(e.postData,"section",t)},expression:"postData.section"}})],1):e._e()],1):e._e()],1),a("v-card-actions",[a("v-btn",{staticClass:"ml-4 mb-4",attrs:{color:"primary",elevation:"2"},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)],1)],1)},ha=[],ga={data:function(){return{postData:{name:null,email:null,sem:null,dept:null,section:null,academic_year:null,fcmToken:null},requiredRule:[function(e){return!!e||"Required!"}],noofsems:8,emailRule:[function(e){return!!e&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],semesters:[],departmentClasses:null,loading:!1}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getInitData();case 1:case"end":return t.stop()}}),t)})))()},methods:{getInitData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/api/student/subscribeinit");case 3:for(a=t.sent,e.semesters=[],r=a.data.odd?1:2;r<=e.noofsems;r+=2)e.semesters.push(r);e.postData.academic_year=a.data.academic_year,e.departmentClasses=a.data.departmentClasses,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.postData.fcmToken=e.$store.getters.fcmToken,t.next=6,e.$http.post("/api/student/subscribe",e.postData);case 6:a=t.sent,e.$store.dispatch("Notify",a.data.message),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},xa=ga,ya=Object(x["a"])(xa,ba,ha,!1,null,null,null),ka=ya.exports;k()(ya,{VBtn:S["a"],VCard:Q["a"],VCardActions:J["a"],VCardText:J["c"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VSelect:Ne["a"],VTextField:re["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]});var Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm11:"",md9:"",lg8:"",xl6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Analytics")])],1),a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-select",{attrs:{"item-text":"dept","item-value":function(e){return e.dept},items:e.depts,label:"Department"},model:{value:e.dept,callback:function(t){e.dept=t},expression:"dept"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-select",{attrs:{disabled:!e.dept,items:void 0!==e.depts.find((function(t){return t.dept===e.dept}))?e.depts.find((function(t){return t.dept===e.dept})).sems:[],label:"Semester"},model:{value:e.sem,callback:function(t){e.sem=t},expression:"sem"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading,depressed:"",large:"",block:""},on:{click:function(t){return t.preventDefault(),e.changeBarGraph(t)}}},[e._v("Apply")])],1)],1)],1)],1),a("apexchart",{attrs:{type:"bar",height:"350",options:e.barChartOptions,series:e.barSeries}}),a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("apexchart",{attrs:{type:"pie",width:"100%",height:"350px",options:e.chart1Options,series:e.pieSeries1}})],1)],1),a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("apexchart",{attrs:{type:"pie",width:"100%",height:"350px",options:e.chart2Options,series:e.pieSeries2}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("apexchart",{attrs:{type:"pie",width:"100%",height:"350px",options:e.chart3Options,series:e.pieSeries3}})],1)],1)],1)],1)],1)],1)},Ca=[],Sa={data:function(){return{loading:!1,dept:null,sem:null,depts:[],bardata:{},barSeries:[],barChartOptions:{chart:{stacked:!0},xaxis:{type:"string",categories:[]},title:{text:"Hours taken by each Course in each Class"}},pieSeries1:[],chart1Options:{labels:[],title:{text:"No. of Faculties handling a Course"}},pieSeries2:[],chart2Options:{labels:[],title:{text:"No. of Hours Faculteis Work"}},pieSeries3:[],chart3Options:{labels:[],title:{text:"No. of Hours Faculties are Free"}}}},methods:{changeBarGraph:function(){this.barSeries=this.bardata[this.dept][this.sem]["series"],this.barChartOptions.xaxis.categories=this.bardata[this.dept][this.sem]["sections"],this.barChartOptions=Object(u["a"])({},this.barChartOptions)}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,c,l,i,d,p,m,f,v,b,h,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$http.get("/api/analytics/getclasscoursedetails");case 4:return a=t.sent.data.result,t.next=7,e.$http.get("/api/analytics/getcoursefaculties");case 7:return r=t.sent.data.result,t.next=10,e.$http.get("/api/analytics/getfacultyworkinghours");case 10:return n=t.sent.data.result,t.next=13,e.$http.get("/api/analytics/getfacultyfreehours");case 13:s=t.sent.data.result,a=a.sort((function(e,t){return e.sem>t.sem?1:t.sem>e.sem?-1:e.section>t.section?1:t.section>e.section?-1:0})),e.dept=a[0].dept,e.sem=a[0].sem,o=Object(qe["a"])(a),t.prev=18,l=regeneratorRuntime.mark((function t(){var a,r,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=c.value,void 0===e.bardata[a.dept]&&(e.bardata[a.dept]={},e.depts.push({dept:a.dept,sems:[]})),r=e.bardata[a.dept],void 0!==r[a.sem]){t.next=9;break}return r[a.sem]={sections:[],series:[]},t.next=7,e.depts.find((function(e){return e.dept===a.dept}));case 7:n=t.sent,n.sems.push(a.sem);case 9:s=r[a.sem],s.sections.includes(a.section.toUpperCase())||s.sections.push(a.section.toUpperCase()),o=s.series.find((function(e){return e.name===a.coursecode})),void 0===o?s.series.push({name:a.coursecode,data:[a.totalhours]}):o.data.push(a.totalhours);case 13:case"end":return t.stop()}}),t)})),o.s();case 21:if((c=o.n()).done){t.next=25;break}return t.delegateYield(l(),"t0",23);case 23:t.next=21;break;case 25:t.next=30;break;case 27:t.prev=27,t.t1=t["catch"](18),o.e(t.t1);case 30:return t.prev=30,o.f(),t.finish(30);case 33:e.barSeries=e.bardata[e.dept][e.sem]["series"],e.barChartOptions.xaxis.categories=e.bardata[e.dept][e.sem]["sections"],e.barChartOptions=Object(u["a"])({},e.barChartOptions),i=Object(qe["a"])(r);try{for(i.s();!(d=i.n()).done;)p=d.value,e.chart1Options.labels.push(String(p.coursecode)),e.pieSeries1.push(p["count(faculty)"])}catch(x){i.e(x)}finally{i.f()}m=Object(qe["a"])(n);try{for(m.s();!(f=m.n()).done;)v=f.value,e.chart2Options.labels.push("Count: "+String(v.hours)),e.pieSeries2.push(v.nooffaculties)}catch(x){m.e(x)}finally{m.f()}b=Object(qe["a"])(s);try{for(b.s();!(h=b.n()).done;)g=h.value,e.chart3Options.labels.push("Count: "+String(g.hours)),e.pieSeries3.push(g.nooffaculties)}catch(x){b.e(x)}finally{b.f()}t.next=49;break;case 44:t.prev=44,t.t2=t["catch"](1),console.log(t.t2),e.$store.dispatch("Notify","Insufficient Data for Analytics!"),e.$router.push("/Dashboard");case 49:e.loading=!1;case 50:case"end":return t.stop()}}),t,null,[[1,44],[18,27,30,33]])})))()}},wa=Sa,_a=Object(x["a"])(wa,Da,Ca,!1,null,null,null),ja=_a.exports;k()(_a,{VBtn:S["a"],VCard:Q["a"],VCol:ge["a"],VContainer:Z["a"],VFlex:ee["a"],VForm:te["a"],VLayout:ae["a"],VRow:ye["a"],VSelect:Ne["a"],VToolbar:ne["a"],VToolbarTitle:q["a"]}),n["a"].use(f["a"]);var Ra=function(e,t,a){e[a]=t,t?localStorage.setItem(a,t):localStorage.removeItem(a)},Va=function(e){var t=new Date;return t.setMinutes(t.getMinutes()+e),t},Ta=new f["a"].Store({state:{token:localStorage.getItem("token")||null,name:localStorage.getItem("name")||null,username:localStorage.getItem("username")||null,expiration:localStorage.getItem("expiration")||null,role:localStorage.getItem("role")||null,notificationMessage:null,notifierView:!1,fcmToken:null},getters:{fcmToken:function(e){return e.fcmToken},Token:function(e){return e.token},Name:function(e){return e.name},Username:function(e){return e.username},Expiration:function(e){return e.expiration},Role:function(e){return e.role},NotificationMessage:function(e){return e.notificationMessage},NotifierView:function(e){return e.notifierView}},mutations:{setFcmToken:function(e,t){return e.fcmToken=t},Token:function(e,t){return Ra(e,t,"token")},Name:function(e,t){return Ra(e,t,"name")},Username:function(e,t){return Ra(e,t,"username")},Expiration:function(e,t){return Ra(e,t,"expiration")},Role:function(e,t){return Ra(e,t,"role")},NotificationMessage:function(e,t){return e.notificationMessage=t},NotifierView:function(e,t){return e.notifierView=t}},actions:{Logout:function(e){var t=e.commit;t("Token",null),t("Name",null),t("Username",null),t("Expiration",null),t("Role",null)},Login:function(e,t){var a=e.commit;a("Token",t.token),a("Name",t.name),a("Username",t.username),a("Expiration",-1===t.expiration?t.expiration:Va(t.expiration)),a("Role",t.role)},Notify:function(e,t){var a=e.commit;a("NotificationMessage",t.length<150?t:t.substring(0,150)+"....."),a("NotifierView",!0)},CloseNotification:function(e){var t=e.commit;t("NotificationMessage",null),t("NotifierView",!1)}},modules:{}});n["a"].use(z["a"]);var $a={Dashboard:["admin","faculty"],ManageUsers:["admin"],ManageTimeTable:["admin"],ManageExamSchedule:["admin"],ManageFacultyCourses:["admin"],EmergencyHoliday:["admin"],ResetPassword:["admin","faculty"],ProfileUpdateRequest:["admin"],RequestProfileChange:["admin","faculty"],RequestOD:["faculty"],ManageOD:["admin"],RequestLeave:["faculty"],ManageLeave:["admin"],Analytics:["admin","faculty"]},Oa=function(e,t,a){Ta.getters.Token?(console.log(e,t),$a[e.name].includes(Ta.getters.Role)?a():a("Dashboard")):a("Login")},qa=[{path:"/login",name:"Login",component:oe,beforeEnter:function(e,t,a){Ta.getters.Token?a("Dashboard"):a()}},{path:"/dashboard",name:"Dashboard",component:De,beforeEnter:Oa},{path:"/manageusers",name:"ManageUsers",component:He,beforeEnter:Oa},{path:"/managetimetable",name:"ManageTimeTable",component:ot,beforeEnter:Oa},{path:"/manageexamschedule",name:"ManageExamSchedule",component:vt,beforeEnter:Oa},{path:"/managefacultycourses",name:"ManageFacultyCourses",component:qt,beforeEnter:Oa},{path:"/emergencyholiday",name:"EmergencyHoliday",component:At,beforeEnter:Oa},{path:"/resetpassword",name:"ResetPassword",component:va,beforeEnter:Oa},{path:"/studentsubscribe",name:"StudentSubscribe",component:ka},{path:"/timetable",name:"TimeTable",component:Ae},{path:"/contact",name:"Contact",component:Ve},{path:"/forgotpassword",name:"ForgotPassword",component:pe},{path:"/profileupdaterequest",name:"ProfileUpdateRequest",component:kt,beforeEnter:Oa},{path:"/requestprofilechange",name:"RequestProfileChange",component:jt,beforeEnter:Oa},{path:"/requestod",name:"RequestOD",component:zt,beforeEnter:Oa},{path:"/manageod",name:"ManageOD",component:Jt,beforeEnter:Oa},{path:"/requestleave",name:"RequestLeave",component:ra,beforeEnter:Oa},{path:"/manageleave",name:"ManageLeave",component:ia,beforeEnter:Oa},{path:"/analytics",name:"Analytics",component:ja,beforeEnter:Oa},{path:"*",name:"Redirector",component:oe,beforeEnter:function(e,t,a){a("Login")}}],Pa=new z["a"]({mode:"history",base:"/",routes:qa}),Fa=Pa,Ea=a("f309");n["a"].use(Ea["a"]);var Na=new Ea["a"]({theme:{themes:{light:{primary:"#7957d5"}}}}),La=a("1321"),Aa=a.n(La);n["a"].use(Aa.a),n["a"].component("apexchart",Aa.a),n["a"].config.productionTip=!1,n["a"].config.silent=!0,n["a"].prototype.$http=o.a.create({baseURL:"https://young-woodland-99357.herokuapp.com"}),n["a"].prototype.$http.interceptors.response.use((function(e){return e}),(function(e){return e.response?"object"==Object(r["a"])(e.response.data.message)?Ta.dispatch("Notify",JSON.stringify(e.response.data.message)):Ta.dispatch("Notify",String(e.response.data.message)):Ta.dispatch("Notify","Couldn't reach Server!"),Promise.reject(e)})),n["a"].prototype.$http.interceptors.request.use((function(e){return"/api/auth/login"!==e.url&&(e.headers["Authorization"]="Bearer ".concat(Ta.getters.Token)),e}),(function(e){return Promise.reject(e)})),new n["a"]({router:Fa,store:Ta,vuetify:Na,render:function(e){return e(B)}}).$mount("#app")},"85ec":function(e,t,a){},b0c2:function(e,t,a){"use strict";a("fd90")},d309:function(e,t,a){},fd90:function(e,t,a){}});
//# sourceMappingURL=app.e26efd1f.js.map